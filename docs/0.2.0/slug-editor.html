<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="https://contentful.github.io/ui-extensions-sdk/cf-extension.css">
    <script src="https://contentful.github.io/ui-extensions-sdk/cf-extension-api.js"></script>
    <script
			  src="https://code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
    <style>
       #wm-logo {
        width: 16px;
        position: absolute;
        right: 0;
        top: 0;
       }
    </style>
    <title>slug-editor@0.2.0</title>
  <style type="text/css">.cf-form-input {
  font-size: 16px;
  color: #2a3039;
  font-family: "Avenir Next W01", Helvetica, sans-serif;
  display: block;
  width: 100%;
  line-height: 1.5;
  outline: 0;
  padding: 0 2px;
  background-color: transparent;
  border-width: 0 0 1px 0;
  border-style: solid;
  border-color: transparent;
  border-image-width: 0 0 1px 0;
  border-image-source: url("https://static.contentful.com/app/svg/dotted-border.svg");
  border-image-repeat: round;
  border-image-slice: 1 1;
  -webkit-transition: 0.2s linear;
  -moz-transition: 0.2s linear;
  -o-transition: 0.2s linear;
  -ms-transition: 0.2s linear;
  transition: 0.2s linear;
  -webkit-transition-property: padding, background-color;
  -moz-transition-property: padding, background-color;
  -o-transition-property: padding, background-color;
  -ms-transition-property: padding, background-color;
  transition-property: padding, background-color;
  height: 36px; }


/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2x1Zy1lZGl0b3Ivc3R5bGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSIsImZpbGUiOiJkaXN0L3NsdWctZWRpdG9yL3N0eWxlLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jZi1mb3JtLWlucHV0IHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogIzJhMzAzOTtcbiAgZm9udC1mYW1pbHk6IFwiQXZlbmlyIE5leHQgVzAxXCIsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBsaW5lLWhlaWdodDogMS41O1xuICBvdXRsaW5lOiAwO1xuICBwYWRkaW5nOiAwIDJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci13aWR0aDogMCAwIDFweCAwO1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXItaW1hZ2Utd2lkdGg6IDAgMCAxcHggMDtcbiAgYm9yZGVyLWltYWdlLXNvdXJjZTogdXJsKFwiaHR0cHM6Ly9zdGF0aWMuY29udGVudGZ1bC5jb20vYXBwL3N2Zy9kb3R0ZWQtYm9yZGVyLnN2Z1wiKTtcbiAgYm9yZGVyLWltYWdlLXJlcGVhdDogcm91bmQ7XG4gIGJvcmRlci1pbWFnZS1zbGljZTogMSAxO1xuICAtd2Via2l0LXRyYW5zaXRpb246IDAuMnMgbGluZWFyO1xuICAtbW96LXRyYW5zaXRpb246IDAuMnMgbGluZWFyO1xuICAtby10cmFuc2l0aW9uOiAwLjJzIGxpbmVhcjtcbiAgLW1zLXRyYW5zaXRpb246IDAuMnMgbGluZWFyO1xuICB0cmFuc2l0aW9uOiAwLjJzIGxpbmVhcjtcbiAgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OiBwYWRkaW5nLCBiYWNrZ3JvdW5kLWNvbG9yO1xuICAtbW96LXRyYW5zaXRpb24tcHJvcGVydHk6IHBhZGRpbmcsIGJhY2tncm91bmQtY29sb3I7XG4gIC1vLXRyYW5zaXRpb24tcHJvcGVydHk6IHBhZGRpbmcsIGJhY2tncm91bmQtY29sb3I7XG4gIC1tcy10cmFuc2l0aW9uLXByb3BlcnR5OiBwYWRkaW5nLCBiYWNrZ3JvdW5kLWNvbG9yO1xuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBwYWRkaW5nLCBiYWNrZ3JvdW5kLWNvbG9yO1xuICBoZWlnaHQ6IDM2cHg7IH1cbiJdLCJzb3VyY2VSb290IjoiIn0=*/</style></head>
  <body>
    <div id="wm-logo" title="slug-editor@0.2.0"><svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 119.2 119.2"><path fill="#009dba" d="M84.9 0H34.4A34.4 34.4 0 0 0 0 34.4v50.5a34.46 34.46 0 0 0 34.4 34.4h50.5a34.46 34.46 0 0 0 34.4-34.4V34.4A34.53 34.53 0 0 0 84.9 0zM34.4 9.5h50.5a24.8 24.8 0 0 1 24.8 24.8v18.2c-9.3 7.8-18.8 8.9-28.9 7.5l5.3-20a4.75 4.75 0 0 0-9.2-2.4s-2.7 10-5.5 20.6c-.7-.2-1.3-.3-2-.5l-5-20a4.72 4.72 0 0 0-4.6-3.6 4.72 4.72 0 0 0-4.6 3.6s-1.7 6.9-3.8 15.3c-1.7-.4-3.4-.7-5.1-1-2.2-8-4-14.4-4-14.4a4.78 4.78 0 0 0-9.2 2.6l3 10.7H34a53.57 53.57 0 0 0-24.4 5.8V34.4A24.82 24.82 0 0 1 34.4 9.5zm50.5 100.2H34.4A24.8 24.8 0 0 1 9.6 84.9v-17A41.77 41.77 0 0 1 34 60.4c1.6 0 3.2.1 4.8.2l6 21.6a4.82 4.82 0 0 0 9.3-.1s2-8.1 4.4-17.4l2.1.6 1.2.3c2.2 8.9 4.1 16.5 4.1 16.5a4.72 4.72 0 0 0 4.6 3.6 4.63 4.63 0 0 0 4.6-3.5l3.4-12.7c10.4 1.6 20.9 1.1 31.3-5.1V85a25 25 0 0 1-24.9 24.7z"/></svg></img></div>
    
    <div id="react-root"></div>
  <script type="text/javascript">!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return a}),n.d(t,"createElement",function(){return a}),n.d(t,"cloneElement",function(){return u}),n.d(t,"Component",function(){return j}),n.d(t,"render",function(){return B}),n.d(t,"rerender",function(){return d}),n.d(t,"options",function(){return o});var o={},r=[],i=[];function a(e,t){var n,a,l,s,u=i;for(s=arguments.length;s-- >2;)r.push(arguments[s]);for(t&&null!=t.children&&(r.length||r.push(t.children),delete t.children);r.length;)if((a=r.pop())&&void 0!==a.pop)for(s=a.length;s--;)r.push(a[s]);else"boolean"==typeof a&&(a=null),(l="function"!=typeof e)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(l=!1)),l&&n?u[u.length-1]+=a:u===i?u=[a]:u.push(a),n=l;var p=new function(){};return p.nodeName=e,p.children=u,p.attributes=null==t?void 0:t,p.key=null==t?void 0:t.key,void 0!==o.vnode&&o.vnode(p),p}function l(e,t){for(var n in t)e[n]=t[n];return e}var s="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(e,t){return a(e.nodeName,l(l({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var p=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,c=[];function f(e){!e._dirty&&(e._dirty=!0)&&1==c.push(e)&&(o.debounceRendering||s)(d)}function d(){var e,t=c;for(c=[];e=t.pop();)e._dirty&&E(e)}function h(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function _(e){var t=l({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===p.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,g,a):e.removeEventListener(t,g,a),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var l=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function g(e){return this._listeners[e.type](o.event&&o.event(e)||e)}var y=[],b=0,C=!1,x=!1;function S(){for(var e;e=y.pop();)o.afterMount&&o.afterMount(e),e.componentDidMount&&e.componentDidMount()}function w(e,t,n,o,r,i){b++||(C=null!=r&&void 0!==r.ownerSVGElement,x=null!=e&&!("__preactattr_"in e));var a=N(e,t,n,o,i);return r&&a.parentNode!==r&&r.appendChild(a),--b||(x=!1,i||S()),a}function N(e,t,n,o,r){var i=e,a=C;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),k(e,!0))),i.__preactattr_=!0,i;var l,s,u=t.nodeName;if("function"==typeof u)return function(e,t,n,o){var r=e&&e._component,i=r,a=e,l=r&&e._componentConstructor===t.nodeName,s=l,u=_(t);for(;r&&!s&&(r=r._parentComponent);)s=r.constructor===t.nodeName;r&&s&&(!o||r._component)?(V(r,u,3,n,o),e=r.base):(i&&!l&&(L(i),e=a=null),r=O(t.nodeName,u,n),e&&!r.nextBase&&(r.nextBase=e,a=null),V(r,u,1,n,o),e=r.base,a&&e!==a&&(a._component=null,k(a,!1)));return e}(e,t,n,o);if(C="svg"===u||"foreignObject"!==u&&C,u=String(u),(!e||!h(e,u))&&(l=u,(s=C?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l)).normalizedNodeName=l,i=s,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),k(e,!0)}var p=i.firstChild,c=i.__preactattr_,f=t.children;if(null==c){c=i.__preactattr_={};for(var d=i.attributes,g=d.length;g--;)c[d[g].name]=d[g].value}return!x&&f&&1===f.length&&"string"==typeof f[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=f[0]&&(p.nodeValue=f[0]):(f&&f.length||null!=p)&&function(e,t,n,o,r){var i,a,l,s,u,p=e.childNodes,c=[],f={},d=0,_=0,m=p.length,g=0,y=t?t.length:0;if(0!==m)for(var b=0;b<m;b++){var C=p[b],x=C.__preactattr_,S=y&&x?C._component?C._component.__key:x.key:null;null!=S?(d++,f[S]=C):(x||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(c[g++]=C)}if(0!==y)for(var b=0;b<y;b++){s=t[b],u=null;var S=s.key;if(null!=S)d&&void 0!==f[S]&&(u=f[S],f[S]=void 0,d--);else if(!u&&_<g)for(i=_;i<g;i++)if(void 0!==c[i]&&(w=a=c[i],M=r,"string"==typeof(P=s)||"number"==typeof P?void 0!==w.splitText:"string"==typeof P.nodeName?!w._componentConstructor&&h(w,P.nodeName):M||w._componentConstructor===P.nodeName)){u=a,c[i]=void 0,i===g-1&&g--,i===_&&_++;break}u=N(u,s,n,o),l=p[b],u&&u!==e&&u!==l&&(null==l?e.appendChild(u):u===l.nextSibling?v(l):e.insertBefore(u,l))}var w,P,M;if(d)for(var b in f)void 0!==f[b]&&k(f[b],!1);for(;_<=g;)void 0!==(u=c[g--])&&k(u,!1)}(i,f,n,o,x||null!=c.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||m(e,o,n[o],n[o]=void 0,C);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||m(e,o,n[o],n[o]=t[o],C)}(i,t.attributes,c),C=a,i}function k(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||v(e),P(e))}function P(e){for(e=e.lastChild;e;){var t=e.previousSibling;k(e,!0),e=t}}var M={};function O(e,t,n){var o,r=M[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),j.call(o,t,n)):((o=new j(t,n)).constructor=e,o.render=U),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.nextBase=r[i].nextBase,r.splice(i,1);break}return o}function U(e,t,n){return this.constructor(e,n)}function V(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&e.base?f(e):E(e,1,i)),e.__ref&&e.__ref(e))}function E(e,t,n,r){if(!e._disable){var i,a,s,u=e.props,p=e.state,c=e.context,f=e.prevProps||u,d=e.prevState||p,h=e.prevContext||c,v=e.base,m=e.nextBase,g=v||m,C=e._component,x=!1;if(v&&(e.props=f,e.state=d,e.context=h,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,p,c)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(u,p,c),e.props=u,e.state=p,e.context=c),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!x){i=e.render(u,p,c),e.getChildContext&&(c=l(l({},c),e.getChildContext()));var N,P,M=i&&i.nodeName;if("function"==typeof M){var U=_(i);(a=C)&&a.constructor===M&&U.key==a.__key?V(a,U,1,c,!1):(N=a,e._component=a=O(M,U,c),a.nextBase=a.nextBase||m,a._parentComponent=e,V(a,U,0,c,!1),E(a,1,n,!0)),P=a.base}else s=g,(N=C)&&(s=e._component=null),(g||1===t)&&(s&&(s._component=null),P=w(s,i,c,n||!v,g&&g.parentNode,!0));if(g&&P!==g&&a!==C){var j=g.parentNode;j&&P!==j&&(j.replaceChild(P,g),N||(g._component=null,k(g,!1)))}if(N&&L(N),e.base=P,P&&!r){for(var B=e,T=e;T=T._parentComponent;)(B=T).base=P;P._component=B,P._componentConstructor=B.constructor}}if(!v||n?y.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(f,d,h),o.afterUpdate&&o.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);b||r||S()}}function L(e){o.beforeUnmount&&o.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,v(t),function(e){var t=e.constructor.name;(M[t]||(M[t]=[])).push(e)}(e),P(t)),e.__ref&&e.__ref(null)}function j(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function B(e,t,n){return w(n,e,{},!1,t,!1)}l(j.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=l({},n)),l(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),f(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),E(this,2)},render:function(){}});var T={h:a,createElement:a,cloneElement:u,Component:j,render:B,rerender:d,options:o};t.default=T},function(e,t){e.exports=window.contentfulExtension},,function(e,t,n){},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.__esModule=!0;var i=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){this.setState({value:this.props.slug})},t.prototype.render=function(){var e=this.props,t=e.slug,n=e.parentSlug;return i.h("div",{id:"slugForm",class:"cf-form-input"},n&&i.h("span",{id:"parent"},n,"/"),i.h("span",{id:"slug",contentEditable:!0,onFocus:this.onFocusGained.bind(this),onBlur:this.onFocusLost.bind(this)},t))},t.prototype.onFocusLost=function(e){var t=e.target.textContent;t!=this.state.value&&(this.setState({value:t}),this.props.onChange.call(this,{oldValue:this.state.value,newValue:t}))},t.prototype.onFocusGained=function(e){console.log("focusGained",e)},t}(i.Component);t.SlugForm=a},function(e,t,n){"use strict";t.__esModule=!0,String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),t.wait=function(e){return new Promise(function(t,n){return setTimeout(function(){return t()},e)})},t.pathJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("/").replace(/\/{2,}/,"/")},t.basename=function(e){var t=e.split("/");return t[t.length-1]},t.trimStart=function(e,t){for(;e.startsWith(t);)e=e.substring(t.length);return e}},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};t.__esModule=!0;var a=n(1),l=n(0),s=n(5),u=n(4);n(3);a.init(function(e){console.log("Init!"),l.render(l.h(p,i({},e)),document.getElementById("react-root"))});var p=function(e){function t(){var t=e.call(this)||this;return t.onSlugChange=t.onSlugChange.bind(t),t}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.setState({fieldValue:this.props.field.getValue()});this.props.space.getEntries({content_type:"page","fields.subpages.sys.id":this.props.entry.getSys().id}).then(function(t){if(!(t.items.length<=0)){var n=t.items[0].fields.slug["en-US"],o=e.state.fieldValue;o=s.trimStart(o,n),o=s.trimStart(o,"/"),e.setState({parentSlug:n,fieldValue:o})}}).catch(function(e){console.error("Error querying!",e)})},t.prototype.render=function(){var e=this.state,t=e.fieldValue,n=e.parentSlug;return console.log("render",n),l.h("div",null,l.h(u.SlugForm,{slug:t,parentSlug:n,onChange:this.onSlugChange}))},t.prototype.onSlugChange=function(e){this.props.field.setValue(s.pathJoin(this.state.parentSlug,e.newValue))},t}(l.Component)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWFjdC9kaXN0L3ByZWFjdC5lc20uanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LmNvbnRlbnRmdWxFeHRlbnNpb25cIiIsIndlYnBhY2s6Ly8vLi9zcmMvc2x1Zy1lZGl0b3Ivc2x1Zy1mb3JtLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9zbHVnLWVkaXRvci9pbmRleC50c3giXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJvcHRpb25zIiwic3RhY2siLCJFTVBUWV9DSElMRFJFTiIsImgiLCJub2RlTmFtZSIsImF0dHJpYnV0ZXMiLCJsYXN0U2ltcGxlIiwiY2hpbGQiLCJzaW1wbGUiLCJjaGlsZHJlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInB1c2giLCJwb3AiLCJ1bmRlZmluZWQiLCJTdHJpbmciLCJrZXkiLCJ2bm9kZSIsImV4dGVuZCIsIm9iaiIsInByb3BzIiwiZGVmZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJiaW5kIiwic2V0VGltZW91dCIsImNsb25lRWxlbWVudCIsInNsaWNlIiwiSVNfTk9OX0RJTUVOU0lPTkFMIiwiaXRlbXMiLCJlbnF1ZXVlUmVuZGVyIiwiY29tcG9uZW50IiwiX2RpcnR5IiwiZGVib3VuY2VSZW5kZXJpbmciLCJyZXJlbmRlciIsImxpc3QiLCJyZW5kZXJDb21wb25lbnQiLCJpc05hbWVkTm9kZSIsIm5vZGUiLCJub3JtYWxpemVkTm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldE5vZGVQcm9wcyIsImRlZmF1bHRQcm9wcyIsInJlbW92ZU5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzZXRBY2Nlc3NvciIsIm9sZCIsImlzU3ZnIiwic3R5bGUiLCJjc3NUZXh0IiwidGVzdCIsImlubmVySFRNTCIsIl9faHRtbCIsInVzZUNhcHR1cmUiLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50UHJveHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2xpc3RlbmVycyIsImUiLCJzZXRQcm9wZXJ0eSIsInJlbW92ZUF0dHJpYnV0ZSIsIm5zIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZSIsImNsYXNzTmFtZSIsInRoaXMiLCJ0eXBlIiwiZXZlbnQiLCJtb3VudHMiLCJkaWZmTGV2ZWwiLCJpc1N2Z01vZGUiLCJoeWRyYXRpbmciLCJmbHVzaE1vdW50cyIsImFmdGVyTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsImRpZmYiLCJkb20iLCJjb250ZXh0IiwibW91bnRBbGwiLCJwYXJlbnQiLCJjb21wb25lbnRSb290Iiwib3duZXJTVkdFbGVtZW50IiwicmV0IiwiaWRpZmYiLCJhcHBlbmRDaGlsZCIsIm91dCIsInByZXZTdmdNb2RlIiwic3BsaXRUZXh0IiwiX2NvbXBvbmVudCIsIm5vZGVWYWx1ZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJyZWNvbGxlY3ROb2RlVHJlZSIsInZub2RlTmFtZSIsIm9yaWdpbmFsQ29tcG9uZW50Iiwib2xkRG9tIiwiaXNEaXJlY3RPd25lciIsIl9jb21wb25lbnRDb25zdHJ1Y3RvciIsImlzT3duZXIiLCJfcGFyZW50Q29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJzZXRDb21wb25lbnRQcm9wcyIsImJhc2UiLCJ1bm1vdW50Q29tcG9uZW50IiwiY3JlYXRlQ29tcG9uZW50IiwibmV4dEJhc2UiLCJidWlsZENvbXBvbmVudEZyb21WTm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUVsZW1lbnQiLCJmaXJzdENoaWxkIiwiZmMiLCJ2Y2hpbGRyZW4iLCJhIiwibmV4dFNpYmxpbmciLCJpc0h5ZHJhdGluZyIsImoiLCJmIiwidmNoaWxkIiwib3JpZ2luYWxDaGlsZHJlbiIsImNoaWxkTm9kZXMiLCJrZXllZCIsImtleWVkTGVuIiwibWluIiwibGVuIiwiY2hpbGRyZW5MZW4iLCJ2bGVuIiwiX2NoaWxkIiwiX19rZXkiLCJ0cmltIiwiaW5zZXJ0QmVmb3JlIiwiaW5uZXJEaWZmTm9kZSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiYXR0cnMiLCJkaWZmQXR0cmlidXRlcyIsInVubW91bnRPbmx5IiwicmVmIiwicmVtb3ZlQ2hpbGRyZW4iLCJsYXN0Q2hpbGQiLCJuZXh0IiwicHJldmlvdXNTaWJsaW5nIiwiY29tcG9uZW50cyIsIkN0b3IiLCJpbnN0IiwicmVuZGVyIiwiQ29tcG9uZW50IiwiZG9SZW5kZXIiLCJzcGxpY2UiLCJzdGF0ZSIsIm9wdHMiLCJfZGlzYWJsZSIsIl9fcmVmIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsInByZXZDb250ZXh0IiwicHJldlByb3BzIiwic3luY0NvbXBvbmVudFVwZGF0ZXMiLCJpc0NoaWxkIiwicmVuZGVyZWQiLCJjYmFzZSIsInByZXZpb3VzUHJvcHMiLCJwcmV2aW91c1N0YXRlIiwicHJldlN0YXRlIiwicHJldmlvdXNDb250ZXh0IiwiaXNVcGRhdGUiLCJpbml0aWFsQmFzZSIsImluaXRpYWxDaGlsZENvbXBvbmVudCIsInNraXAiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwiZ2V0Q2hpbGRDb250ZXh0IiwidG9Vbm1vdW50IiwiY2hpbGRDb21wb25lbnQiLCJjaGlsZFByb3BzIiwiYmFzZVBhcmVudCIsImNvbXBvbmVudFJlZiIsInQiLCJ1bnNoaWZ0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiYWZ0ZXJVcGRhdGUiLCJfcmVuZGVyQ2FsbGJhY2tzIiwiYmVmb3JlVW5tb3VudCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiaW5uZXIiLCJjb2xsZWN0Q29tcG9uZW50IiwibWVyZ2UiLCJzZXRTdGF0ZSIsImNhbGxiYWNrIiwiZm9yY2VVcGRhdGUiLCJwcmVhY3QiLCJ3aW5kb3ciLCJjb250ZW50ZnVsRXh0ZW5zaW9uIiwicHJlYWN0XzEiLCJTbHVnRm9ybSIsIl9zdXBlciIsIl9fZXh0ZW5kcyIsInNsdWciLCJfYSIsInBhcmVudFNsdWciLCJpZCIsImNsYXNzIiwiY29udGVudEVkaXRhYmxlIiwib25Gb2N1cyIsIm9uRm9jdXNHYWluZWQiLCJvbkJsdXIiLCJvbkZvY3VzTG9zdCIsImV2dCIsIm5ld1RleHQiLCJ0YXJnZXQiLCJ0ZXh0Q29udGVudCIsIm9uQ2hhbmdlIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJzdGFydHNXaXRoIiwic2VhcmNoIiwicG9zIiwic3Vic3RyIiwid2FpdCIsIm1zIiwicmVqZWN0IiwicGF0aEpvaW4iLCJwYXRoQXJyIiwiX2kiLCJqb2luIiwiYmFzZW5hbWUiLCJwYXRoIiwicGF0aFBhcnRzIiwic3BsaXQiLCJ0cmltU3RhcnQiLCJ0b1RyaW0iLCJ2YWx1ZVRvUmVtb3ZlIiwidXRpbHNfMSIsInNsdWdfZm9ybV8xIiwiaW5pdCIsImV4dGVuc2lvbiIsIkFwcCIsIl9fYXNzaWduIiwiZ2V0RWxlbWVudEJ5SWQiLCJfdGhpcyIsIm9uU2x1Z0NoYW5nZSIsImZpZWxkVmFsdWUiLCJmaWVsZCIsImdldFZhbHVlIiwic3BhY2UiLCJnZXRFbnRyaWVzIiwiY29udGVudF90eXBlIiwiZmllbGRzLnN1YnBhZ2VzLnN5cy5pZCIsImVudHJ5IiwiZ2V0U3lzIiwiZW50cmllcyIsImZpZWxkcyIsImVyciIsImVycm9yIiwic2V0VmFsdWUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFWLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBZ0IsRUFBQUMsSUFHdER4QixFQUFBMkIsRUFBQSxHQUlBM0IsSUFBQTRCLEVBQUEsb1JDbkVBNUIsRUFBQVUsRUFBQW1CLEVBQUEsNEJBQUFDLElBT0EsSUFBQUEsS0F3QkFDLEtBRUFDLEtBOEJBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFDQUMsRUFDQUMsRUFDQUMsRUFDQWxDLEVBSkFtQyxFQUFBUCxFQUtBLElBQUE1QixFQUFB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QUFLbEQsTUFBTXNPLE1BQU1DLFlBQy9CQyxhQUFnQixPQUNoQkMseUJBQTBCdkwsS0FBS2xELE1BQU0wTyxNQUFNQyxTQUFTbkQsS0FDbkRwTCxLQUFLLFNBQUN3TyxHQUNQLEtBQUlBLEVBQVFsTyxNQUFNbkIsUUFBVSxHQUE1QixDQUlBLElBQU1nTSxFQUFhcUQsRUFBUWxPLE1BQU0sR0FBR21PLE9BQU94RCxLQUFLLFNBQzVDOEMsRUFBYUYsRUFBSzVGLE1BQU04RixXQUM1QkEsRUFBYVQsRUFBQUgsVUFBVVksRUFBWTVDLEdBQ25DNEMsRUFBYVQsRUFBQUgsVUFBVVksRUFBWSxLQUVuQ0YsRUFBS3RELFVBQ0hZLFdBQVVBLEVBQ1Y0QyxXQUFVQSxPQUVOLE1BQUMsU0FBQ1csR0FDUnhDLFFBQVF5QyxNQUFNLGtCQUFtQkQsTUFJOUJoQixFQUFBdlAsVUFBQTBKLE9BQVAsV0FDUSxJQUFBcUQsRUFBQXBJLEtBQUFtRixNQUFFOEYsRUFBQTdDLEVBQUE2QyxXQUFZNUMsRUFBQUQsRUFBQUMsV0FJcEIsT0FGQWUsUUFBUUMsSUFBSSxTQUFVaEIsR0FFZk4sRUFBQWxNLEVBQUEsV0FDTGtNLEVBQUFsTSxFQUFDNE8sRUFBQXpDLFVBQVNHLEtBQU04QyxFQUNkNUMsV0FBWUEsRUFDWlksU0FBVWpKLEtBQUtnTCxpQkFJYkosRUFBQXZQLFVBQUEyUCxhQUFSLFNBQXFCOUssR0FDbkJGLEtBQUtsRCxNQUFNb08sTUFBTVksU0FBU3RCLEVBQUFYLFNBQVM3SixLQUFLbUYsTUFBTWtELFdBQVluSSxFQUFNaUosWUFFcEV5QixFQWxEQSxDQUFrQjdDLEVBQUEvQyIsImZpbGUiOiJkaXN0L3NsdWctZWRpdG9yL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIi8qKiBWaXJ0dWFsIERPTSBOb2RlICovXG5mdW5jdGlvbiBWTm9kZSgpIHt9XG5cbi8qKiBHbG9iYWwgb3B0aW9uc1xuICpcdEBwdWJsaWNcbiAqXHRAbmFtZXNwYWNlIG9wdGlvbnMge09iamVjdH1cbiAqL1xudmFyIG9wdGlvbnMgPSB7XG5cblx0LyoqIElmIGB0cnVlYCwgYHByb3BgIGNoYW5nZXMgdHJpZ2dlciBzeW5jaHJvbm91cyBjb21wb25lbnQgdXBkYXRlcy5cbiAgKlx0QG5hbWUgc3luY0NvbXBvbmVudFVwZGF0ZXNcbiAgKlx0QHR5cGUgQm9vbGVhblxuICAqXHRAZGVmYXVsdCB0cnVlXG4gICovXG5cdC8vc3luY0NvbXBvbmVudFVwZGF0ZXM6IHRydWUsXG5cblx0LyoqIFByb2Nlc3NlcyBhbGwgY3JlYXRlZCBWTm9kZXMuXG4gICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRBIG5ld2x5LWNyZWF0ZWQgVk5vZGUgdG8gbm9ybWFsaXplL3Byb2Nlc3NcbiAgKi9cblx0Ly92bm9kZSh2bm9kZSkgeyB9XG5cblx0LyoqIEhvb2sgaW52b2tlZCBhZnRlciBhIGNvbXBvbmVudCBpcyBtb3VudGVkLiAqL1xuXHQvLyBhZnRlck1vdW50KGNvbXBvbmVudCkgeyB9XG5cblx0LyoqIEhvb2sgaW52b2tlZCBhZnRlciB0aGUgRE9NIGlzIHVwZGF0ZWQgd2l0aCBhIGNvbXBvbmVudCdzIGxhdGVzdCByZW5kZXIuICovXG5cdC8vIGFmdGVyVXBkYXRlKGNvbXBvbmVudCkgeyB9XG5cblx0LyoqIEhvb2sgaW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkLiAqL1xuXHQvLyBiZWZvcmVVbm1vdW50KGNvbXBvbmVudCkgeyB9XG59O1xuXG52YXIgc3RhY2sgPSBbXTtcblxudmFyIEVNUFRZX0NISUxEUkVOID0gW107XG5cbi8qKlxuICogSlNYL2h5cGVyc2NyaXB0IHJldml2ZXIuXG4gKiBAc2VlIGh0dHA6Ly9qYXNvbmZvcm1hdC5jb20vd3RmLWlzLWpzeFxuICogQmVuY2htYXJrczogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81N2VlOGY4ZTMzMGFiMDk5MDBhMWExYTBcbiAqXG4gKiBOb3RlOiB0aGlzIGlzIGV4cG9ydGVkIGFzIGJvdGggYGgoKWAgYW5kIGBjcmVhdGVFbGVtZW50KClgIGZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMuXG4gKlxuICogQ3JlYXRlcyBhIFZOb2RlICh2aXJ0dWFsIERPTSBlbGVtZW50KS4gQSB0cmVlIG9mIFZOb2RlcyBjYW4gYmUgdXNlZCBhcyBhIGxpZ2h0d2VpZ2h0IHJlcHJlc2VudGF0aW9uXG4gKiBvZiB0aGUgc3RydWN0dXJlIG9mIGEgRE9NIHRyZWUuIFRoaXMgc3RydWN0dXJlIGNhbiBiZSByZWFsaXplZCBieSByZWN1cnNpdmVseSBjb21wYXJpbmcgaXQgYWdhaW5zdFxuICogdGhlIGN1cnJlbnQgX2FjdHVhbF8gRE9NIHN0cnVjdHVyZSwgYW5kIGFwcGx5aW5nIG9ubHkgdGhlIGRpZmZlcmVuY2VzLlxuICpcbiAqIGBoKClgL2BjcmVhdGVFbGVtZW50KClgIGFjY2VwdHMgYW4gZWxlbWVudCBuYW1lLCBhIGxpc3Qgb2YgYXR0cmlidXRlcy9wcm9wcyxcbiAqIGFuZCBvcHRpb25hbGx5IGNoaWxkcmVuIHRvIGFwcGVuZCB0byB0aGUgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZSBUaGUgZm9sbG93aW5nIERPTSB0cmVlXG4gKlxuICogYDxkaXYgaWQ9XCJmb29cIiBuYW1lPVwiYmFyXCI+SGVsbG8hPC9kaXY+YFxuICpcbiAqIGNhbiBiZSBjb25zdHJ1Y3RlZCB1c2luZyB0aGlzIGZ1bmN0aW9uIGFzOlxuICpcbiAqIGBoKCdkaXYnLCB7IGlkOiAnZm9vJywgbmFtZSA6ICdiYXInIH0sICdIZWxsbyEnKTtgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5vZGVOYW1lXHRBbiBlbGVtZW50IG5hbWUuIEV4OiBgZGl2YCwgYGFgLCBgc3BhbmAsIGV0Yy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzXHRBbnkgYXR0cmlidXRlcy9wcm9wcyB0byBzZXQgb24gdGhlIGNyZWF0ZWQgZWxlbWVudC5cbiAqIEBwYXJhbSByZXN0XHRcdFx0QWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHRha2VuIHRvIGJlIGNoaWxkcmVuIHRvIGFwcGVuZC4gQ2FuIGJlIGluZmluaXRlbHkgbmVzdGVkIEFycmF5cy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0dmFyIGNoaWxkcmVuID0gRU1QVFlfQ0hJTERSRU4sXG5cdCAgICBsYXN0U2ltcGxlLFxuXHQgICAgY2hpbGQsXG5cdCAgICBzaW1wbGUsXG5cdCAgICBpO1xuXHRmb3IgKGkgPSBhcmd1bWVudHMubGVuZ3RoOyBpLS0gPiAyOykge1xuXHRcdHN0YWNrLnB1c2goYXJndW1lbnRzW2ldKTtcblx0fVxuXHRpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRpZiAoIXN0YWNrLmxlbmd0aCkgc3RhY2sucHVzaChhdHRyaWJ1dGVzLmNoaWxkcmVuKTtcblx0XHRkZWxldGUgYXR0cmlidXRlcy5jaGlsZHJlbjtcblx0fVxuXHR3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG5cdFx0aWYgKChjaGlsZCA9IHN0YWNrLnBvcCgpKSAmJiBjaGlsZC5wb3AgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Zm9yIChpID0gY2hpbGQubGVuZ3RoOyBpLS07KSB7XG5cdFx0XHRcdHN0YWNrLnB1c2goY2hpbGRbaV0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIGNoaWxkID09PSAnYm9vbGVhbicpIGNoaWxkID0gbnVsbDtcblxuXHRcdFx0aWYgKHNpbXBsZSA9IHR5cGVvZiBub2RlTmFtZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRpZiAoY2hpbGQgPT0gbnVsbCkgY2hpbGQgPSAnJztlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09ICdudW1iZXInKSBjaGlsZCA9IFN0cmluZyhjaGlsZCk7ZWxzZSBpZiAodHlwZW9mIGNoaWxkICE9PSAnc3RyaW5nJykgc2ltcGxlID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzaW1wbGUgJiYgbGFzdFNpbXBsZSkge1xuXHRcdFx0XHRjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXSArPSBjaGlsZDtcblx0XHRcdH0gZWxzZSBpZiAoY2hpbGRyZW4gPT09IEVNUFRZX0NISUxEUkVOKSB7XG5cdFx0XHRcdGNoaWxkcmVuID0gW2NoaWxkXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHRcdFx0fVxuXG5cdFx0XHRsYXN0U2ltcGxlID0gc2ltcGxlO1xuXHRcdH1cblx0fVxuXG5cdHZhciBwID0gbmV3IFZOb2RlKCk7XG5cdHAubm9kZU5hbWUgPSBub2RlTmFtZTtcblx0cC5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXHRwLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzID09IG51bGwgPyB1bmRlZmluZWQgOiBhdHRyaWJ1dGVzO1xuXHRwLmtleSA9IGF0dHJpYnV0ZXMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGF0dHJpYnV0ZXMua2V5O1xuXG5cdC8vIGlmIGEgXCJ2bm9kZSBob29rXCIgaXMgZGVmaW5lZCwgcGFzcyBldmVyeSBjcmVhdGVkIFZOb2RlIHRvIGl0XG5cdGlmIChvcHRpb25zLnZub2RlICE9PSB1bmRlZmluZWQpIG9wdGlvbnMudm5vZGUocCk7XG5cblx0cmV0dXJuIHA7XG59XG5cbi8qKlxuICogIENvcHkgYWxsIHByb3BlcnRpZXMgZnJvbSBgcHJvcHNgIG9udG8gYG9iamAuXG4gKiAgQHBhcmFtIHtPYmplY3R9IG9ialx0XHRPYmplY3Qgb250byB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSBjb3BpZWQuXG4gKiAgQHBhcmFtIHtPYmplY3R9IHByb3BzXHRPYmplY3QgZnJvbSB3aGljaCB0byBjb3B5IHByb3BlcnRpZXMuXG4gKiAgQHJldHVybnMgb2JqXG4gKiAgQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSBpbiBwcm9wcykge1xuICAgIG9ialtpXSA9IHByb3BzW2ldO1xuICB9cmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBDYWxsIGEgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHksIGFzIHNvb24gYXMgcG9zc2libGUuIE1ha2VzXG4gKiB1c2Ugb2YgSFRNTCBQcm9taXNlIHRvIHNjaGVkdWxlIHRoZSBjYWxsYmFjayBpZiBhdmFpbGFibGUsXG4gKiBvdGhlcndpc2UgZmFsbGluZyBiYWNrIHRvIGBzZXRUaW1lb3V0YCAobWFpbmx5IGZvciBJRTwxMSkuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xudmFyIGRlZmVyID0gdHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJyA/IFByb21pc2UucmVzb2x2ZSgpLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSkgOiBzZXRUaW1lb3V0O1xuXG4vKipcbiAqIENsb25lcyB0aGUgZ2l2ZW4gVk5vZGUsIG9wdGlvbmFsbHkgYWRkaW5nIGF0dHJpYnV0ZXMvcHJvcHMgYW5kIHJlcGxhY2luZyBpdHMgY2hpbGRyZW4uXG4gKiBAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRUaGUgdmlydHVhbCBET00gZWxlbWVudCB0byBjbG9uZVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXHRBdHRyaWJ1dGVzL3Byb3BzIHRvIGFkZCB3aGVuIGNsb25pbmdcbiAqIEBwYXJhbSB7Vk5vZGV9IHJlc3RcdFx0QW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgdXNlZCBhcyByZXBsYWNlbWVudCBjaGlsZHJlbi5cbiAqL1xuZnVuY3Rpb24gY2xvbmVFbGVtZW50KHZub2RlLCBwcm9wcykge1xuICByZXR1cm4gaCh2bm9kZS5ub2RlTmFtZSwgZXh0ZW5kKGV4dGVuZCh7fSwgdm5vZGUuYXR0cmlidXRlcyksIHByb3BzKSwgYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikgOiB2bm9kZS5jaGlsZHJlbik7XG59XG5cbi8vIERPTSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIE5PVCBoYXZlIFwicHhcIiBhZGRlZCB3aGVuIG51bWVyaWNcbnZhciBJU19OT05fRElNRU5TSU9OQUwgPSAvYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmQvaTtcblxuLyoqIE1hbmFnZWQgcXVldWUgb2YgZGlydHkgY29tcG9uZW50cyB0byBiZSByZS1yZW5kZXJlZCAqL1xuXG52YXIgaXRlbXMgPSBbXTtcblxuZnVuY3Rpb24gZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpIHtcblx0aWYgKCFjb21wb25lbnQuX2RpcnR5ICYmIChjb21wb25lbnQuX2RpcnR5ID0gdHJ1ZSkgJiYgaXRlbXMucHVzaChjb21wb25lbnQpID09IDEpIHtcblx0XHQob3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZyB8fCBkZWZlcikocmVyZW5kZXIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHR2YXIgcCxcblx0ICAgIGxpc3QgPSBpdGVtcztcblx0aXRlbXMgPSBbXTtcblx0d2hpbGUgKHAgPSBsaXN0LnBvcCgpKSB7XG5cdFx0aWYgKHAuX2RpcnR5KSByZW5kZXJDb21wb25lbnQocCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gbm9kZXMgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXHRcdFx0RE9NIE5vZGUgdG8gY29tcGFyZVxuICogQHBhcmFtIHtWTm9kZX0gdm5vZGVcdFx0XHRWaXJ0dWFsIERPTSBub2RlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2h5ZHJhdGluZz1mYWxzZV1cdElmIHRydWUsIGlnbm9yZXMgY29tcG9uZW50IGNvbnN0cnVjdG9ycyB3aGVuIGNvbXBhcmluZy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzU2FtZU5vZGVUeXBlKG5vZGUsIHZub2RlLCBoeWRyYXRpbmcpIHtcbiAgaWYgKHR5cGVvZiB2bm9kZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZub2RlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBub2RlLnNwbGl0VGV4dCAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2Ygdm5vZGUubm9kZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICFub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciAmJiBpc05hbWVkTm9kZShub2RlLCB2bm9kZS5ub2RlTmFtZSk7XG4gIH1cbiAgcmV0dXJuIGh5ZHJhdGluZyB8fCBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWU7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gRWxlbWVudCBoYXMgYSBnaXZlbiBub2RlTmFtZSwgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVx0QSBET00gRWxlbWVudCB0byBpbnNwZWN0IHRoZSBuYW1lIG9mLlxuICogQHBhcmFtIHtTdHJpbmd9IG5vZGVOYW1lXHRVbm5vcm1hbGl6ZWQgbmFtZSB0byBjb21wYXJlIGFnYWluc3QuXG4gKi9cbmZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG4gIHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9PT0gbm9kZU5hbWUgfHwgbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xufVxuXG4vKipcbiAqIFJlY29uc3RydWN0IENvbXBvbmVudC1zdHlsZSBgcHJvcHNgIGZyb20gYSBWTm9kZS5cbiAqIEVuc3VyZXMgZGVmYXVsdC9mYWxsYmFjayB2YWx1ZXMgZnJvbSBgZGVmYXVsdFByb3BzYDpcbiAqIE93bi1wcm9wZXJ0aWVzIG9mIGBkZWZhdWx0UHJvcHNgIG5vdCBwcmVzZW50IGluIGB2bm9kZS5hdHRyaWJ1dGVzYCBhcmUgYWRkZWQuXG4gKlxuICogQHBhcmFtIHtWTm9kZX0gdm5vZGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IHByb3BzXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVQcm9wcyh2bm9kZSkge1xuICB2YXIgcHJvcHMgPSBleHRlbmQoe30sIHZub2RlLmF0dHJpYnV0ZXMpO1xuICBwcm9wcy5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuXG4gIHZhciBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHM7XG4gIGlmIChkZWZhdWx0UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAodmFyIGkgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICBpZiAocHJvcHNbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wc1tpXSA9IGRlZmF1bHRQcm9wc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJvcHM7XG59XG5cbi8qKiBDcmVhdGUgYW4gZWxlbWVudCB3aXRoIHRoZSBnaXZlbiBub2RlTmFtZS5cbiAqXHRAcGFyYW0ge1N0cmluZ30gbm9kZU5hbWVcbiAqXHRAcGFyYW0ge0Jvb2xlYW59IFtpc1N2Zz1mYWxzZV1cdElmIGB0cnVlYCwgY3JlYXRlcyBhbiBlbGVtZW50IHdpdGhpbiB0aGUgU1ZHIG5hbWVzcGFjZS5cbiAqXHRAcmV0dXJucyB7RWxlbWVudH0gbm9kZVxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Zykge1xuXHR2YXIgbm9kZSA9IGlzU3ZnID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5vZGVOYW1lKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpO1xuXHRub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5vZGVOYW1lO1xuXHRyZXR1cm4gbm9kZTtcbn1cblxuLyoqIFJlbW92ZSBhIGNoaWxkIG5vZGUgZnJvbSBpdHMgcGFyZW50IGlmIGF0dGFjaGVkLlxuICpcdEBwYXJhbSB7RWxlbWVudH0gbm9kZVx0XHRUaGUgbm9kZSB0byByZW1vdmVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdHZhciBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHRpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cblxuLyoqIFNldCBhIG5hbWVkIGF0dHJpYnV0ZSBvbiB0aGUgZ2l2ZW4gTm9kZSwgd2l0aCBzcGVjaWFsIGJlaGF2aW9yIGZvciBzb21lIG5hbWVzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXHRJZiBgdmFsdWVgIGlzIGBudWxsYCwgdGhlIGF0dHJpYnV0ZS9oYW5kbGVyIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcdEFuIGVsZW1lbnQgdG8gbXV0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IG5hbWVcdFRoZSBuYW1lL2tleSB0byBzZXQsIHN1Y2ggYXMgYW4gZXZlbnQgb3IgYXR0cmlidXRlIG5hbWVcbiAqXHRAcGFyYW0ge2FueX0gb2xkXHRUaGUgbGFzdCB2YWx1ZSB0aGF0IHdhcyBzZXQgZm9yIHRoaXMgbmFtZS9ub2RlIHBhaXJcbiAqXHRAcGFyYW0ge2FueX0gdmFsdWVcdEFuIGF0dHJpYnV0ZSB2YWx1ZSwgc3VjaCBhcyBhIGZ1bmN0aW9uIHRvIGJlIHVzZWQgYXMgYW4gZXZlbnQgaGFuZGxlclxuICpcdEBwYXJhbSB7Qm9vbGVhbn0gaXNTdmdcdEFyZSB3ZSBjdXJyZW50bHkgZGlmZmluZyBpbnNpZGUgYW4gc3ZnP1xuICpcdEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldEFjY2Vzc29yKG5vZGUsIG5hbWUsIG9sZCwgdmFsdWUsIGlzU3ZnKSB7XG5cdGlmIChuYW1lID09PSAnY2xhc3NOYW1lJykgbmFtZSA9ICdjbGFzcyc7XG5cblx0aWYgKG5hbWUgPT09ICdrZXknKSB7XG5cdFx0Ly8gaWdub3JlXG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ3JlZicpIHtcblx0XHRpZiAob2xkKSBvbGQobnVsbCk7XG5cdFx0aWYgKHZhbHVlKSB2YWx1ZShub2RlKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnY2xhc3MnICYmICFpc1N2Zykge1xuXHRcdG5vZGUuY2xhc3NOYW1lID0gdmFsdWUgfHwgJyc7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuXHRcdGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb2xkID09PSAnc3RyaW5nJykge1xuXHRcdFx0bm9kZS5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgfHwgJyc7XG5cdFx0fVxuXHRcdGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRpZiAodHlwZW9mIG9sZCAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSBpbiBvbGQpIHtcblx0XHRcdFx0XHRpZiAoIShpIGluIHZhbHVlKSkgbm9kZS5zdHlsZVtpXSA9ICcnO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRmb3IgKHZhciBpIGluIHZhbHVlKSB7XG5cdFx0XHRcdG5vZGUuc3R5bGVbaV0gPSB0eXBlb2YgdmFsdWVbaV0gPT09ICdudW1iZXInICYmIElTX05PTl9ESU1FTlNJT05BTC50ZXN0KGkpID09PSBmYWxzZSA/IHZhbHVlW2ldICsgJ3B4JyA6IHZhbHVlW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmIChuYW1lID09PSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbCB8fCAnJztcblx0fSBlbHNlIGlmIChuYW1lWzBdID09ICdvJyAmJiBuYW1lWzFdID09ICduJykge1xuXHRcdHZhciB1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcblx0XHRuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygyKTtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmICghb2xkKSBub2RlLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSwgdXNlQ2FwdHVyZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5LCB1c2VDYXB0dXJlKTtcblx0XHR9XG5cdFx0KG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pKVtuYW1lXSA9IHZhbHVlO1xuXHR9IGVsc2UgaWYgKG5hbWUgIT09ICdsaXN0JyAmJiBuYW1lICE9PSAndHlwZScgJiYgIWlzU3ZnICYmIG5hbWUgaW4gbm9kZSkge1xuXHRcdHNldFByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlKTtcblx0XHRpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBucyA9IGlzU3ZnICYmIG5hbWUgIT09IChuYW1lID0gbmFtZS5yZXBsYWNlKC9eeGxpbms6Py8sICcnKSk7XG5cdFx0aWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG5cdFx0XHRpZiAobnMpIG5vZGUucmVtb3ZlQXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBuYW1lLnRvTG93ZXJDYXNlKCkpO2Vsc2Ugbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIG5hbWUudG9Mb3dlckNhc2UoKSwgdmFsdWUpO2Vsc2Ugbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuXHRcdH1cblx0fVxufVxuXG4vKiogQXR0ZW1wdCB0byBzZXQgYSBET00gcHJvcGVydHkgdG8gdGhlIGdpdmVuIHZhbHVlLlxuICpcdElFICYgRkYgdGhyb3cgZm9yIGNlcnRhaW4gcHJvcGVydHktdmFsdWUgY29tYmluYXRpb25zLlxuICovXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSkge1xuXHR0cnkge1xuXHRcdG5vZGVbbmFtZV0gPSB2YWx1ZTtcblx0fSBjYXRjaCAoZSkge31cbn1cblxuLyoqIFByb3h5IGFuIGV2ZW50IHRvIGhvb2tlZCBldmVudCBoYW5kbGVyc1xuICpcdEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV2ZW50UHJveHkoZSkge1xuXHRyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCAmJiBvcHRpb25zLmV2ZW50KGUpIHx8IGUpO1xufVxuXG4vKiogUXVldWUgb2YgY29tcG9uZW50cyB0aGF0IGhhdmUgYmVlbiBtb3VudGVkIGFuZCBhcmUgYXdhaXRpbmcgY29tcG9uZW50RGlkTW91bnQgKi9cbnZhciBtb3VudHMgPSBbXTtcblxuLyoqIERpZmYgcmVjdXJzaW9uIGNvdW50LCB1c2VkIHRvIHRyYWNrIHRoZSBlbmQgb2YgdGhlIGRpZmYgY3ljbGUuICovXG52YXIgZGlmZkxldmVsID0gMDtcblxuLyoqIEdsb2JhbCBmbGFnIGluZGljYXRpbmcgaWYgdGhlIGRpZmYgaXMgY3VycmVudGx5IHdpdGhpbiBhbiBTVkcgKi9cbnZhciBpc1N2Z01vZGUgPSBmYWxzZTtcblxuLyoqIEdsb2JhbCBmbGFnIGluZGljYXRpbmcgaWYgdGhlIGRpZmYgaXMgcGVyZm9ybWluZyBoeWRyYXRpb24gKi9cbnZhciBoeWRyYXRpbmcgPSBmYWxzZTtcblxuLyoqIEludm9rZSBxdWV1ZWQgY29tcG9uZW50RGlkTW91bnQgbGlmZWN5Y2xlIG1ldGhvZHMgKi9cbmZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHR2YXIgYztcblx0d2hpbGUgKGMgPSBtb3VudHMucG9wKCkpIHtcblx0XHRpZiAob3B0aW9ucy5hZnRlck1vdW50KSBvcHRpb25zLmFmdGVyTW91bnQoYyk7XG5cdFx0aWYgKGMuY29tcG9uZW50RGlkTW91bnQpIGMuY29tcG9uZW50RGlkTW91bnQoKTtcblx0fVxufVxuXG4vKiogQXBwbHkgZGlmZmVyZW5jZXMgaW4gYSBnaXZlbiB2bm9kZSAoYW5kIGl0J3MgZGVlcCBjaGlsZHJlbikgdG8gYSByZWFsIERPTSBOb2RlLlxuICpcdEBwYXJhbSB7RWxlbWVudH0gW2RvbT1udWxsXVx0XHRBIERPTSBub2RlIHRvIG11dGF0ZSBpbnRvIHRoZSBzaGFwZSBvZiB0aGUgYHZub2RlYFxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRcdFx0QSBWTm9kZSAod2l0aCBkZXNjZW5kYW50cyBmb3JtaW5nIGEgdHJlZSkgcmVwcmVzZW50aW5nIHRoZSBkZXNpcmVkIERPTSBzdHJ1Y3R1cmVcbiAqXHRAcmV0dXJucyB7RWxlbWVudH0gZG9tXHRcdFx0VGhlIGNyZWF0ZWQvbXV0YXRlZCBlbGVtZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCwgcGFyZW50LCBjb21wb25lbnRSb290KSB7XG5cdC8vIGRpZmZMZXZlbCBoYXZpbmcgYmVlbiAwIGhlcmUgaW5kaWNhdGVzIGluaXRpYWwgZW50cnkgaW50byB0aGUgZGlmZiAobm90IGEgc3ViZGlmZilcblx0aWYgKCFkaWZmTGV2ZWwrKykge1xuXHRcdC8vIHdoZW4gZmlyc3Qgc3RhcnRpbmcgdGhlIGRpZmYsIGNoZWNrIGlmIHdlJ3JlIGRpZmZpbmcgYW4gU1ZHIG9yIHdpdGhpbiBhbiBTVkdcblx0XHRpc1N2Z01vZGUgPSBwYXJlbnQgIT0gbnVsbCAmJiBwYXJlbnQub3duZXJTVkdFbGVtZW50ICE9PSB1bmRlZmluZWQ7XG5cblx0XHQvLyBoeWRyYXRpb24gaXMgaW5kaWNhdGVkIGJ5IHRoZSBleGlzdGluZyBlbGVtZW50IHRvIGJlIGRpZmZlZCBub3QgaGF2aW5nIGEgcHJvcCBjYWNoZVxuXHRcdGh5ZHJhdGluZyA9IGRvbSAhPSBudWxsICYmICEoJ19fcHJlYWN0YXR0cl8nIGluIGRvbSk7XG5cdH1cblxuXHR2YXIgcmV0ID0gaWRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwsIGNvbXBvbmVudFJvb3QpO1xuXG5cdC8vIGFwcGVuZCB0aGUgZWxlbWVudCBpZiBpdHMgYSBuZXcgcGFyZW50XG5cdGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUgIT09IHBhcmVudCkgcGFyZW50LmFwcGVuZENoaWxkKHJldCk7XG5cblx0Ly8gZGlmZkxldmVsIGJlaW5nIHJlZHVjZWQgdG8gMCBtZWFucyB3ZSdyZSBleGl0aW5nIHRoZSBkaWZmXG5cdGlmICghIC0tZGlmZkxldmVsKSB7XG5cdFx0aHlkcmF0aW5nID0gZmFsc2U7XG5cdFx0Ly8gaW52b2tlIHF1ZXVlZCBjb21wb25lbnREaWRNb3VudCBsaWZlY3ljbGUgbWV0aG9kc1xuXHRcdGlmICghY29tcG9uZW50Um9vdCkgZmx1c2hNb3VudHMoKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cbi8qKiBJbnRlcm5hbHMgb2YgYGRpZmYoKWAsIHNlcGFyYXRlZCB0byBhbGxvdyBieXBhc3NpbmcgZGlmZkxldmVsIC8gbW91bnQgZmx1c2hpbmcuICovXG5mdW5jdGlvbiBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCwgY29tcG9uZW50Um9vdCkge1xuXHR2YXIgb3V0ID0gZG9tLFxuXHQgICAgcHJldlN2Z01vZGUgPSBpc1N2Z01vZGU7XG5cblx0Ly8gZW1wdHkgdmFsdWVzIChudWxsLCB1bmRlZmluZWQsIGJvb2xlYW5zKSByZW5kZXIgYXMgZW1wdHkgVGV4dCBub2Rlc1xuXHRpZiAodm5vZGUgPT0gbnVsbCB8fCB0eXBlb2Ygdm5vZGUgPT09ICdib29sZWFuJykgdm5vZGUgPSAnJztcblxuXHQvLyBGYXN0IGNhc2U6IFN0cmluZ3MgJiBOdW1iZXJzIGNyZWF0ZS91cGRhdGUgVGV4dCBub2Rlcy5cblx0aWYgKHR5cGVvZiB2bm9kZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZub2RlID09PSAnbnVtYmVyJykge1xuXG5cdFx0Ly8gdXBkYXRlIGlmIGl0J3MgYWxyZWFkeSBhIFRleHQgbm9kZTpcblx0XHRpZiAoZG9tICYmIGRvbS5zcGxpdFRleHQgIT09IHVuZGVmaW5lZCAmJiBkb20ucGFyZW50Tm9kZSAmJiAoIWRvbS5fY29tcG9uZW50IHx8IGNvbXBvbmVudFJvb3QpKSB7XG5cdFx0XHQvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8gLyogQnJvd3NlciBxdWlyayB0aGF0IGNhbid0IGJlIGNvdmVyZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvcHJlYWN0L2NvbW1pdC9mZDRmMjFmNWM0NWRmZDc1MTUxYmQyN2I0YzIxN2Q4MDAzYWE1ZWI5ICovXG5cdFx0XHRpZiAoZG9tLm5vZGVWYWx1ZSAhPSB2bm9kZSkge1xuXHRcdFx0XHRkb20ubm9kZVZhbHVlID0gdm5vZGU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGl0IHdhc24ndCBhIFRleHQgbm9kZTogcmVwbGFjZSBpdCB3aXRoIG9uZSBhbmQgcmVjeWNsZSB0aGUgb2xkIEVsZW1lbnRcblx0XHRcdG91dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZub2RlKTtcblx0XHRcdGlmIChkb20pIHtcblx0XHRcdFx0aWYgKGRvbS5wYXJlbnROb2RlKSBkb20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQob3V0LCBkb20pO1xuXHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShkb20sIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG91dFsnX19wcmVhY3RhdHRyXyddID0gdHJ1ZTtcblxuXHRcdHJldHVybiBvdXQ7XG5cdH1cblxuXHQvLyBJZiB0aGUgVk5vZGUgcmVwcmVzZW50cyBhIENvbXBvbmVudCwgcGVyZm9ybSBhIGNvbXBvbmVudCBkaWZmOlxuXHR2YXIgdm5vZGVOYW1lID0gdm5vZGUubm9kZU5hbWU7XG5cdGlmICh0eXBlb2Ygdm5vZGVOYW1lID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdC8vIFRyYWNrcyBlbnRlcmluZyBhbmQgZXhpdGluZyBTVkcgbmFtZXNwYWNlIHdoZW4gZGVzY2VuZGluZyB0aHJvdWdoIHRoZSB0cmVlLlxuXHRpc1N2Z01vZGUgPSB2bm9kZU5hbWUgPT09ICdzdmcnID8gdHJ1ZSA6IHZub2RlTmFtZSA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gZmFsc2UgOiBpc1N2Z01vZGU7XG5cblx0Ly8gSWYgdGhlcmUncyBubyBleGlzdGluZyBlbGVtZW50IG9yIGl0J3MgdGhlIHdyb25nIHR5cGUsIGNyZWF0ZSBhIG5ldyBvbmU6XG5cdHZub2RlTmFtZSA9IFN0cmluZyh2bm9kZU5hbWUpO1xuXHRpZiAoIWRvbSB8fCAhaXNOYW1lZE5vZGUoZG9tLCB2bm9kZU5hbWUpKSB7XG5cdFx0b3V0ID0gY3JlYXRlTm9kZSh2bm9kZU5hbWUsIGlzU3ZnTW9kZSk7XG5cblx0XHRpZiAoZG9tKSB7XG5cdFx0XHQvLyBtb3ZlIGNoaWxkcmVuIGludG8gdGhlIHJlcGxhY2VtZW50IG5vZGVcblx0XHRcdHdoaWxlIChkb20uZmlyc3RDaGlsZCkge1xuXHRcdFx0XHRvdXQuYXBwZW5kQ2hpbGQoZG9tLmZpcnN0Q2hpbGQpO1xuXHRcdFx0fSAvLyBpZiB0aGUgcHJldmlvdXMgRWxlbWVudCB3YXMgbW91bnRlZCBpbnRvIHRoZSBET00sIHJlcGxhY2UgaXQgaW5saW5lXG5cdFx0XHRpZiAoZG9tLnBhcmVudE5vZGUpIGRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChvdXQsIGRvbSk7XG5cblx0XHRcdC8vIHJlY3ljbGUgdGhlIG9sZCBlbGVtZW50IChza2lwcyBub24tRWxlbWVudCBub2RlIHR5cGVzKVxuXHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUoZG9tLCB0cnVlKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgZmMgPSBvdXQuZmlyc3RDaGlsZCxcblx0ICAgIHByb3BzID0gb3V0WydfX3ByZWFjdGF0dHJfJ10sXG5cdCAgICB2Y2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblxuXHRpZiAocHJvcHMgPT0gbnVsbCkge1xuXHRcdHByb3BzID0gb3V0WydfX3ByZWFjdGF0dHJfJ10gPSB7fTtcblx0XHRmb3IgKHZhciBhID0gb3V0LmF0dHJpYnV0ZXMsIGkgPSBhLmxlbmd0aDsgaS0tOykge1xuXHRcdFx0cHJvcHNbYVtpXS5uYW1lXSA9IGFbaV0udmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0Ly8gT3B0aW1pemF0aW9uOiBmYXN0LXBhdGggZm9yIGVsZW1lbnRzIGNvbnRhaW5pbmcgYSBzaW5nbGUgVGV4dE5vZGU6XG5cdGlmICghaHlkcmF0aW5nICYmIHZjaGlsZHJlbiAmJiB2Y2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIHR5cGVvZiB2Y2hpbGRyZW5bMF0gPT09ICdzdHJpbmcnICYmIGZjICE9IG51bGwgJiYgZmMuc3BsaXRUZXh0ICE9PSB1bmRlZmluZWQgJiYgZmMubmV4dFNpYmxpbmcgPT0gbnVsbCkge1xuXHRcdGlmIChmYy5ub2RlVmFsdWUgIT0gdmNoaWxkcmVuWzBdKSB7XG5cdFx0XHRmYy5ub2RlVmFsdWUgPSB2Y2hpbGRyZW5bMF07XG5cdFx0fVxuXHR9XG5cdC8vIG90aGVyd2lzZSwgaWYgdGhlcmUgYXJlIGV4aXN0aW5nIG9yIG5ldyBjaGlsZHJlbiwgZGlmZiB0aGVtOlxuXHRlbHNlIGlmICh2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aCB8fCBmYyAhPSBudWxsKSB7XG5cdFx0XHRpbm5lckRpZmZOb2RlKG91dCwgdmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCwgaHlkcmF0aW5nIHx8IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICE9IG51bGwpO1xuXHRcdH1cblxuXHQvLyBBcHBseSBhdHRyaWJ1dGVzL3Byb3BzIGZyb20gVk5vZGUgdG8gdGhlIERPTSBFbGVtZW50OlxuXHRkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMsIHByb3BzKTtcblxuXHQvLyByZXN0b3JlIHByZXZpb3VzIFNWRyBtb2RlOiAoaW4gY2FzZSB3ZSdyZSBleGl0aW5nIGFuIFNWRyBuYW1lc3BhY2UpXG5cdGlzU3ZnTW9kZSA9IHByZXZTdmdNb2RlO1xuXG5cdHJldHVybiBvdXQ7XG59XG5cbi8qKiBBcHBseSBjaGlsZCBhbmQgYXR0cmlidXRlIGNoYW5nZXMgYmV0d2VlbiBhIFZOb2RlIGFuZCBhIERPTSBOb2RlIHRvIHRoZSBET00uXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFx0XHRFbGVtZW50IHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZSBjb21wYXJlZCAmIG11dGF0ZWRcbiAqXHRAcGFyYW0ge0FycmF5fSB2Y2hpbGRyZW5cdFx0QXJyYXkgb2YgVk5vZGVzIHRvIGNvbXBhcmUgdG8gYGRvbS5jaGlsZE5vZGVzYFxuICpcdEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XHRcdFx0SW1wbGljaXRseSBkZXNjZW5kYW50IGNvbnRleHQgb2JqZWN0IChmcm9tIG1vc3QgcmVjZW50IGBnZXRDaGlsZENvbnRleHQoKWApXG4gKlx0QHBhcmFtIHtCb29sZWFufSBtb3VudEFsbFxuICpcdEBwYXJhbSB7Qm9vbGVhbn0gaXNIeWRyYXRpbmdcdElmIGB0cnVlYCwgY29uc3VtZXMgZXh0ZXJuYWxseSBjcmVhdGVkIGVsZW1lbnRzIHNpbWlsYXIgdG8gaHlkcmF0aW9uXG4gKi9cbmZ1bmN0aW9uIGlubmVyRGlmZk5vZGUoZG9tLCB2Y2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsLCBpc0h5ZHJhdGluZykge1xuXHR2YXIgb3JpZ2luYWxDaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzLFxuXHQgICAgY2hpbGRyZW4gPSBbXSxcblx0ICAgIGtleWVkID0ge30sXG5cdCAgICBrZXllZExlbiA9IDAsXG5cdCAgICBtaW4gPSAwLFxuXHQgICAgbGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsXG5cdCAgICBjaGlsZHJlbkxlbiA9IDAsXG5cdCAgICB2bGVuID0gdmNoaWxkcmVuID8gdmNoaWxkcmVuLmxlbmd0aCA6IDAsXG5cdCAgICBqLFxuXHQgICAgYyxcblx0ICAgIGYsXG5cdCAgICB2Y2hpbGQsXG5cdCAgICBjaGlsZDtcblxuXHQvLyBCdWlsZCB1cCBhIG1hcCBvZiBrZXllZCBjaGlsZHJlbiBhbmQgYW4gQXJyYXkgb2YgdW5rZXllZCBjaGlsZHJlbjpcblx0aWYgKGxlbiAhPT0gMCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHZhciBfY2hpbGQgPSBvcmlnaW5hbENoaWxkcmVuW2ldLFxuXHRcdFx0ICAgIHByb3BzID0gX2NoaWxkWydfX3ByZWFjdGF0dHJfJ10sXG5cdFx0XHQgICAga2V5ID0gdmxlbiAmJiBwcm9wcyA/IF9jaGlsZC5fY29tcG9uZW50ID8gX2NoaWxkLl9jb21wb25lbnQuX19rZXkgOiBwcm9wcy5rZXkgOiBudWxsO1xuXHRcdFx0aWYgKGtleSAhPSBudWxsKSB7XG5cdFx0XHRcdGtleWVkTGVuKys7XG5cdFx0XHRcdGtleWVkW2tleV0gPSBfY2hpbGQ7XG5cdFx0XHR9IGVsc2UgaWYgKHByb3BzIHx8IChfY2hpbGQuc3BsaXRUZXh0ICE9PSB1bmRlZmluZWQgPyBpc0h5ZHJhdGluZyA/IF9jaGlsZC5ub2RlVmFsdWUudHJpbSgpIDogdHJ1ZSA6IGlzSHlkcmF0aW5nKSkge1xuXHRcdFx0XHRjaGlsZHJlbltjaGlsZHJlbkxlbisrXSA9IF9jaGlsZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAodmxlbiAhPT0gMCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmxlbjsgaSsrKSB7XG5cdFx0XHR2Y2hpbGQgPSB2Y2hpbGRyZW5baV07XG5cdFx0XHRjaGlsZCA9IG51bGw7XG5cblx0XHRcdC8vIGF0dGVtcHQgdG8gZmluZCBhIG5vZGUgYmFzZWQgb24ga2V5IG1hdGNoaW5nXG5cdFx0XHR2YXIga2V5ID0gdmNoaWxkLmtleTtcblx0XHRcdGlmIChrZXkgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAoa2V5ZWRMZW4gJiYga2V5ZWRba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y2hpbGQgPSBrZXllZFtrZXldO1xuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0a2V5ZWRMZW4tLTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gYXR0ZW1wdCB0byBwbHVjayBhIG5vZGUgb2YgdGhlIHNhbWUgdHlwZSBmcm9tIHRoZSBleGlzdGluZyBjaGlsZHJlblxuXHRcdFx0ZWxzZSBpZiAoIWNoaWxkICYmIG1pbiA8IGNoaWxkcmVuTGVuKSB7XG5cdFx0XHRcdFx0Zm9yIChqID0gbWluOyBqIDwgY2hpbGRyZW5MZW47IGorKykge1xuXHRcdFx0XHRcdFx0aWYgKGNoaWxkcmVuW2pdICE9PSB1bmRlZmluZWQgJiYgaXNTYW1lTm9kZVR5cGUoYyA9IGNoaWxkcmVuW2pdLCB2Y2hpbGQsIGlzSHlkcmF0aW5nKSkge1xuXHRcdFx0XHRcdFx0XHRjaGlsZCA9IGM7XG5cdFx0XHRcdFx0XHRcdGNoaWxkcmVuW2pdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRpZiAoaiA9PT0gY2hpbGRyZW5MZW4gLSAxKSBjaGlsZHJlbkxlbi0tO1xuXHRcdFx0XHRcdFx0XHRpZiAoaiA9PT0gbWluKSBtaW4rKztcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIG1vcnBoIHRoZSBtYXRjaGVkL2ZvdW5kL2NyZWF0ZWQgRE9NIGNoaWxkIHRvIG1hdGNoIHZjaGlsZCAoZGVlcClcblx0XHRcdGNoaWxkID0gaWRpZmYoY2hpbGQsIHZjaGlsZCwgY29udGV4dCwgbW91bnRBbGwpO1xuXG5cdFx0XHRmID0gb3JpZ2luYWxDaGlsZHJlbltpXTtcblx0XHRcdGlmIChjaGlsZCAmJiBjaGlsZCAhPT0gZG9tICYmIGNoaWxkICE9PSBmKSB7XG5cdFx0XHRcdGlmIChmID09IG51bGwpIHtcblx0XHRcdFx0XHRkb20uYXBwZW5kQ2hpbGQoY2hpbGQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNoaWxkID09PSBmLm5leHRTaWJsaW5nKSB7XG5cdFx0XHRcdFx0cmVtb3ZlTm9kZShmKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkb20uaW5zZXJ0QmVmb3JlKGNoaWxkLCBmKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIHJlbW92ZSB1bnVzZWQga2V5ZWQgY2hpbGRyZW46XG5cdGlmIChrZXllZExlbikge1xuXHRcdGZvciAodmFyIGkgaW4ga2V5ZWQpIHtcblx0XHRcdGlmIChrZXllZFtpXSAhPT0gdW5kZWZpbmVkKSByZWNvbGxlY3ROb2RlVHJlZShrZXllZFtpXSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlbW92ZSBvcnBoYW5lZCB1bmtleWVkIGNoaWxkcmVuOlxuXHR3aGlsZSAobWluIDw9IGNoaWxkcmVuTGVuKSB7XG5cdFx0aWYgKChjaGlsZCA9IGNoaWxkcmVuW2NoaWxkcmVuTGVuLS1dKSAhPT0gdW5kZWZpbmVkKSByZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgZmFsc2UpO1xuXHR9XG59XG5cbi8qKiBSZWN1cnNpdmVseSByZWN5Y2xlIChvciBqdXN0IHVubW91bnQpIGEgbm9kZSBhbmQgaXRzIGRlc2NlbmRhbnRzLlxuICpcdEBwYXJhbSB7Tm9kZX0gbm9kZVx0XHRcdFx0XHRcdERPTSBub2RlIHRvIHN0YXJ0IHVubW91bnQvcmVtb3ZhbCBmcm9tXG4gKlx0QHBhcmFtIHtCb29sZWFufSBbdW5tb3VudE9ubHk9ZmFsc2VdXHRJZiBgdHJ1ZWAsIG9ubHkgdHJpZ2dlcnMgdW5tb3VudCBsaWZlY3ljbGUsIHNraXBzIHJlbW92YWxcbiAqL1xuZnVuY3Rpb24gcmVjb2xsZWN0Tm9kZVRyZWUobm9kZSwgdW5tb3VudE9ubHkpIHtcblx0dmFyIGNvbXBvbmVudCA9IG5vZGUuX2NvbXBvbmVudDtcblx0aWYgKGNvbXBvbmVudCkge1xuXHRcdC8vIGlmIG5vZGUgaXMgb3duZWQgYnkgYSBDb21wb25lbnQsIHVubW91bnQgdGhhdCBjb21wb25lbnQgKGVuZHMgdXAgcmVjdXJzaW5nIGJhY2sgaGVyZSlcblx0XHR1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gSWYgdGhlIG5vZGUncyBWTm9kZSBoYWQgYSByZWYgZnVuY3Rpb24sIGludm9rZSBpdCB3aXRoIG51bGwgaGVyZS5cblx0XHQvLyAodGhpcyBpcyBwYXJ0IG9mIHRoZSBSZWFjdCBzcGVjLCBhbmQgc21hcnQgZm9yIHVuc2V0dGluZyByZWZlcmVuY2VzKVxuXHRcdGlmIChub2RlWydfX3ByZWFjdGF0dHJfJ10gIT0gbnVsbCAmJiBub2RlWydfX3ByZWFjdGF0dHJfJ10ucmVmKSBub2RlWydfX3ByZWFjdGF0dHJfJ10ucmVmKG51bGwpO1xuXG5cdFx0aWYgKHVubW91bnRPbmx5ID09PSBmYWxzZSB8fCBub2RlWydfX3ByZWFjdGF0dHJfJ10gPT0gbnVsbCkge1xuXHRcdFx0cmVtb3ZlTm9kZShub2RlKTtcblx0XHR9XG5cblx0XHRyZW1vdmVDaGlsZHJlbihub2RlKTtcblx0fVxufVxuXG4vKiogUmVjb2xsZWN0L3VubW91bnQgYWxsIGNoaWxkcmVuLlxuICpcdC0gd2UgdXNlIC5sYXN0Q2hpbGQgaGVyZSBiZWNhdXNlIGl0IGNhdXNlcyBsZXNzIHJlZmxvdyB0aGFuIC5maXJzdENoaWxkXG4gKlx0LSBpdCdzIGFsc28gY2hlYXBlciB0aGFuIGFjY2Vzc2luZyB0aGUgLmNoaWxkTm9kZXMgTGl2ZSBOb2RlTGlzdFxuICovXG5mdW5jdGlvbiByZW1vdmVDaGlsZHJlbihub2RlKSB7XG5cdG5vZGUgPSBub2RlLmxhc3RDaGlsZDtcblx0d2hpbGUgKG5vZGUpIHtcblx0XHR2YXIgbmV4dCA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuXHRcdHJlY29sbGVjdE5vZGVUcmVlKG5vZGUsIHRydWUpO1xuXHRcdG5vZGUgPSBuZXh0O1xuXHR9XG59XG5cbi8qKiBBcHBseSBkaWZmZXJlbmNlcyBpbiBhdHRyaWJ1dGVzIGZyb20gYSBWTm9kZSB0byB0aGUgZ2l2ZW4gRE9NIEVsZW1lbnQuXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFx0RWxlbWVudCB3aXRoIGF0dHJpYnV0ZXMgdG8gZGlmZiBgYXR0cnNgIGFnYWluc3RcbiAqXHRAcGFyYW0ge09iamVjdH0gYXR0cnNcdFx0VGhlIGRlc2lyZWQgZW5kLXN0YXRlIGtleS12YWx1ZSBhdHRyaWJ1dGUgcGFpcnNcbiAqXHRAcGFyYW0ge09iamVjdH0gb2xkXHRcdFx0Q3VycmVudC9wcmV2aW91cyBhdHRyaWJ1dGVzIChmcm9tIHByZXZpb3VzIFZOb2RlIG9yIGVsZW1lbnQncyBwcm9wIGNhY2hlKVxuICovXG5mdW5jdGlvbiBkaWZmQXR0cmlidXRlcyhkb20sIGF0dHJzLCBvbGQpIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gcmVtb3ZlIGF0dHJpYnV0ZXMgbm8gbG9uZ2VyIHByZXNlbnQgb24gdGhlIHZub2RlIGJ5IHNldHRpbmcgdGhlbSB0byB1bmRlZmluZWRcblx0Zm9yIChuYW1lIGluIG9sZCkge1xuXHRcdGlmICghKGF0dHJzICYmIGF0dHJzW25hbWVdICE9IG51bGwpICYmIG9sZFtuYW1lXSAhPSBudWxsKSB7XG5cdFx0XHRzZXRBY2Nlc3Nvcihkb20sIG5hbWUsIG9sZFtuYW1lXSwgb2xkW25hbWVdID0gdW5kZWZpbmVkLCBpc1N2Z01vZGUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIGFkZCBuZXcgJiB1cGRhdGUgY2hhbmdlZCBhdHRyaWJ1dGVzXG5cdGZvciAobmFtZSBpbiBhdHRycykge1xuXHRcdGlmIChuYW1lICE9PSAnY2hpbGRyZW4nICYmIG5hbWUgIT09ICdpbm5lckhUTUwnICYmICghKG5hbWUgaW4gb2xkKSB8fCBhdHRyc1tuYW1lXSAhPT0gKG5hbWUgPT09ICd2YWx1ZScgfHwgbmFtZSA9PT0gJ2NoZWNrZWQnID8gZG9tW25hbWVdIDogb2xkW25hbWVdKSkpIHtcblx0XHRcdHNldEFjY2Vzc29yKGRvbSwgbmFtZSwgb2xkW25hbWVdLCBvbGRbbmFtZV0gPSBhdHRyc1tuYW1lXSwgaXNTdmdNb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqIFJldGFpbnMgYSBwb29sIG9mIENvbXBvbmVudHMgZm9yIHJlLXVzZSwga2V5ZWQgb24gY29tcG9uZW50IG5hbWUuXG4gKlx0Tm90ZTogc2luY2UgY29tcG9uZW50IG5hbWVzIGFyZSBub3QgdW5pcXVlIG9yIGV2ZW4gbmVjZXNzYXJpbHkgYXZhaWxhYmxlLCB0aGVzZSBhcmUgcHJpbWFyaWx5IGEgZm9ybSBvZiBzaGFyZGluZy5cbiAqXHRAcHJpdmF0ZVxuICovXG52YXIgY29tcG9uZW50cyA9IHt9O1xuXG4vKiogUmVjbGFpbSBhIGNvbXBvbmVudCBmb3IgbGF0ZXIgcmUtdXNlIGJ5IHRoZSByZWN5Y2xlci4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdHZhciBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWU7XG5cdChjb21wb25lbnRzW25hbWVdIHx8IChjb21wb25lbnRzW25hbWVdID0gW10pKS5wdXNoKGNvbXBvbmVudCk7XG59XG5cbi8qKiBDcmVhdGUgYSBjb21wb25lbnQuIE5vcm1hbGl6ZXMgZGlmZmVyZW5jZXMgYmV0d2VlbiBQRkMncyBhbmQgY2xhc3NmdWwgQ29tcG9uZW50cy4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHR2YXIgbGlzdCA9IGNvbXBvbmVudHNbQ3Rvci5uYW1lXSxcblx0ICAgIGluc3Q7XG5cblx0aWYgKEN0b3IucHJvdG90eXBlICYmIEN0b3IucHJvdG90eXBlLnJlbmRlcikge1xuXHRcdGluc3QgPSBuZXcgQ3Rvcihwcm9wcywgY29udGV4dCk7XG5cdFx0Q29tcG9uZW50LmNhbGwoaW5zdCwgcHJvcHMsIGNvbnRleHQpO1xuXHR9IGVsc2Uge1xuXHRcdGluc3QgPSBuZXcgQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcblx0XHRpbnN0LmNvbnN0cnVjdG9yID0gQ3Rvcjtcblx0XHRpbnN0LnJlbmRlciA9IGRvUmVuZGVyO1xuXHR9XG5cblx0aWYgKGxpc3QpIHtcblx0XHRmb3IgKHZhciBpID0gbGlzdC5sZW5ndGg7IGktLTspIHtcblx0XHRcdGlmIChsaXN0W2ldLmNvbnN0cnVjdG9yID09PSBDdG9yKSB7XG5cdFx0XHRcdGluc3QubmV4dEJhc2UgPSBsaXN0W2ldLm5leHRCYXNlO1xuXHRcdFx0XHRsaXN0LnNwbGljZShpLCAxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBpbnN0O1xufVxuXG4vKiogVGhlIGAucmVuZGVyKClgIG1ldGhvZCBmb3IgYSBQRkMgYmFja2luZyBpbnN0YW5jZS4gKi9cbmZ1bmN0aW9uIGRvUmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCkge1xuXHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCk7XG59XG5cbi8qKiBTZXQgYSBjb21wb25lbnQncyBgcHJvcHNgIChnZW5lcmFsbHkgZGVyaXZlZCBmcm9tIEpTWCBhdHRyaWJ1dGVzKS5cbiAqXHRAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqXHRAcGFyYW0ge09iamVjdH0gW29wdHNdXG4gKlx0QHBhcmFtIHtib29sZWFufSBbb3B0cy5yZW5kZXJTeW5jPWZhbHNlXVx0SWYgYHRydWVgIGFuZCB7QGxpbmsgb3B0aW9ucy5zeW5jQ29tcG9uZW50VXBkYXRlc30gaXMgYHRydWVgLCB0cmlnZ2VycyBzeW5jaHJvbm91cyByZW5kZXJpbmcuXG4gKlx0QHBhcmFtIHtib29sZWFufSBbb3B0cy5yZW5kZXI9dHJ1ZV1cdFx0XHRJZiBgZmFsc2VgLCBubyByZW5kZXIgd2lsbCBiZSB0cmlnZ2VyZWQuXG4gKi9cbmZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGUpIHJldHVybjtcblx0Y29tcG9uZW50Ll9kaXNhYmxlID0gdHJ1ZTtcblxuXHRpZiAoY29tcG9uZW50Ll9fcmVmID0gcHJvcHMucmVmKSBkZWxldGUgcHJvcHMucmVmO1xuXHRpZiAoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSBkZWxldGUgcHJvcHMua2V5O1xuXG5cdGlmICghY29tcG9uZW50LmJhc2UgfHwgbW91bnRBbGwpIHtcblx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHR9IGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB7XG5cdFx0Y29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGNvbnRleHQgJiYgY29udGV4dCAhPT0gY29tcG9uZW50LmNvbnRleHQpIHtcblx0XHRpZiAoIWNvbXBvbmVudC5wcmV2Q29udGV4dCkgY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQ7XG5cdFx0Y29tcG9uZW50LmNvbnRleHQgPSBjb250ZXh0O1xuXHR9XG5cblx0aWYgKCFjb21wb25lbnQucHJldlByb3BzKSBjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByb3BzO1xuXHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblxuXHRjb21wb25lbnQuX2Rpc2FibGUgPSBmYWxzZTtcblxuXHRpZiAob3B0cyAhPT0gMCkge1xuXHRcdGlmIChvcHRzID09PSAxIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMgIT09IGZhbHNlIHx8ICFjb21wb25lbnQuYmFzZSkge1xuXHRcdFx0cmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgMSwgbW91bnRBbGwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbnF1ZXVlUmVuZGVyKGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG59XG5cbi8qKiBSZW5kZXIgYSBDb21wb25lbnQsIHRyaWdnZXJpbmcgbmVjZXNzYXJ5IGxpZmVjeWNsZSBldmVudHMgYW5kIHRha2luZyBIaWdoLU9yZGVyIENvbXBvbmVudHMgaW50byBhY2NvdW50LlxuICpcdEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnRcbiAqXHRAcGFyYW0ge09iamVjdH0gW29wdHNdXG4gKlx0QHBhcmFtIHtib29sZWFufSBbb3B0cy5idWlsZD1mYWxzZV1cdFx0SWYgYHRydWVgLCBjb21wb25lbnQgd2lsbCBidWlsZCBhbmQgc3RvcmUgYSBET00gbm9kZSBpZiBub3QgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggb25lLlxuICpcdEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIG9wdHMsIG1vdW50QWxsLCBpc0NoaWxkKSB7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGUpIHJldHVybjtcblxuXHR2YXIgcHJvcHMgPSBjb21wb25lbnQucHJvcHMsXG5cdCAgICBzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSxcblx0ICAgIGNvbnRleHQgPSBjb21wb25lbnQuY29udGV4dCxcblx0ICAgIHByZXZpb3VzUHJvcHMgPSBjb21wb25lbnQucHJldlByb3BzIHx8IHByb3BzLFxuXHQgICAgcHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsXG5cdCAgICBwcmV2aW91c0NvbnRleHQgPSBjb21wb25lbnQucHJldkNvbnRleHQgfHwgY29udGV4dCxcblx0ICAgIGlzVXBkYXRlID0gY29tcG9uZW50LmJhc2UsXG5cdCAgICBuZXh0QmFzZSA9IGNvbXBvbmVudC5uZXh0QmFzZSxcblx0ICAgIGluaXRpYWxCYXNlID0gaXNVcGRhdGUgfHwgbmV4dEJhc2UsXG5cdCAgICBpbml0aWFsQ2hpbGRDb21wb25lbnQgPSBjb21wb25lbnQuX2NvbXBvbmVudCxcblx0ICAgIHNraXAgPSBmYWxzZSxcblx0ICAgIHJlbmRlcmVkLFxuXHQgICAgaW5zdCxcblx0ICAgIGNiYXNlO1xuXG5cdC8vIGlmIHVwZGF0aW5nXG5cdGlmIChpc1VwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0XHRpZiAob3B0cyAhPT0gMiAmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlICYmIGNvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGUocHJvcHMsIHN0YXRlLCBjb250ZXh0KSA9PT0gZmFsc2UpIHtcblx0XHRcdHNraXAgPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVcGRhdGUpIHtcblx0XHRcdGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cdFx0fVxuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByb3BzO1xuXHRcdGNvbXBvbmVudC5zdGF0ZSA9IHN0YXRlO1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGNvbXBvbmVudC5wcmV2UHJvcHMgPSBjb21wb25lbnQucHJldlN0YXRlID0gY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50Lm5leHRCYXNlID0gbnVsbDtcblx0Y29tcG9uZW50Ll9kaXJ0eSA9IGZhbHNlO1xuXG5cdGlmICghc2tpcCkge1xuXHRcdHJlbmRlcmVkID0gY29tcG9uZW50LnJlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXG5cdFx0Ly8gY29udGV4dCB0byBwYXNzIHRvIHRoZSBjaGlsZCwgY2FuIGJlIHVwZGF0ZWQgdmlhIChncmFuZC0pcGFyZW50IGNvbXBvbmVudFxuXHRcdGlmIChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSB7XG5cdFx0XHRjb250ZXh0ID0gZXh0ZW5kKGV4dGVuZCh7fSwgY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0fVxuXG5cdFx0dmFyIGNoaWxkQ29tcG9uZW50ID0gcmVuZGVyZWQgJiYgcmVuZGVyZWQubm9kZU5hbWUsXG5cdFx0ICAgIHRvVW5tb3VudCxcblx0XHQgICAgYmFzZTtcblxuXHRcdGlmICh0eXBlb2YgY2hpbGRDb21wb25lbnQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdC8vIHNldCB1cCBoaWdoIG9yZGVyIGNvbXBvbmVudCBsaW5rXG5cblx0XHRcdHZhciBjaGlsZFByb3BzID0gZ2V0Tm9kZVByb3BzKHJlbmRlcmVkKTtcblx0XHRcdGluc3QgPSBpbml0aWFsQ2hpbGRDb21wb25lbnQ7XG5cblx0XHRcdGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3IgPT09IGNoaWxkQ29tcG9uZW50ICYmIGNoaWxkUHJvcHMua2V5ID09IGluc3QuX19rZXkpIHtcblx0XHRcdFx0c2V0Q29tcG9uZW50UHJvcHMoaW5zdCwgY2hpbGRQcm9wcywgMSwgY29udGV4dCwgZmFsc2UpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG9Vbm1vdW50ID0gaW5zdDtcblxuXHRcdFx0XHRjb21wb25lbnQuX2NvbXBvbmVudCA9IGluc3QgPSBjcmVhdGVDb21wb25lbnQoY2hpbGRDb21wb25lbnQsIGNoaWxkUHJvcHMsIGNvbnRleHQpO1xuXHRcdFx0XHRpbnN0Lm5leHRCYXNlID0gaW5zdC5uZXh0QmFzZSB8fCBuZXh0QmFzZTtcblx0XHRcdFx0aW5zdC5fcGFyZW50Q29tcG9uZW50ID0gY29tcG9uZW50O1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCAwLCBjb250ZXh0LCBmYWxzZSk7XG5cdFx0XHRcdHJlbmRlckNvbXBvbmVudChpbnN0LCAxLCBtb3VudEFsbCwgdHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGJhc2UgPSBpbnN0LmJhc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNiYXNlID0gaW5pdGlhbEJhc2U7XG5cblx0XHRcdC8vIGRlc3Ryb3kgaGlnaCBvcmRlciBjb21wb25lbnQgbGlua1xuXHRcdFx0dG9Vbm1vdW50ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50O1xuXHRcdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0XHRjYmFzZSA9IGNvbXBvbmVudC5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGluaXRpYWxCYXNlIHx8IG9wdHMgPT09IDEpIHtcblx0XHRcdFx0aWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0YmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUsIGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpbml0aWFsQmFzZSAmJiBiYXNlICE9PSBpbml0aWFsQmFzZSAmJiBpbnN0ICE9PSBpbml0aWFsQ2hpbGRDb21wb25lbnQpIHtcblx0XHRcdHZhciBiYXNlUGFyZW50ID0gaW5pdGlhbEJhc2UucGFyZW50Tm9kZTtcblx0XHRcdGlmIChiYXNlUGFyZW50ICYmIGJhc2UgIT09IGJhc2VQYXJlbnQpIHtcblx0XHRcdFx0YmFzZVBhcmVudC5yZXBsYWNlQ2hpbGQoYmFzZSwgaW5pdGlhbEJhc2UpO1xuXG5cdFx0XHRcdGlmICghdG9Vbm1vdW50KSB7XG5cdFx0XHRcdFx0aW5pdGlhbEJhc2UuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUoaW5pdGlhbEJhc2UsIGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0b1VubW91bnQpIHtcblx0XHRcdHVubW91bnRDb21wb25lbnQodG9Vbm1vdW50KTtcblx0XHR9XG5cblx0XHRjb21wb25lbnQuYmFzZSA9IGJhc2U7XG5cdFx0aWYgKGJhc2UgJiYgIWlzQ2hpbGQpIHtcblx0XHRcdHZhciBjb21wb25lbnRSZWYgPSBjb21wb25lbnQsXG5cdFx0XHQgICAgdCA9IGNvbXBvbmVudDtcblx0XHRcdHdoaWxlICh0ID0gdC5fcGFyZW50Q29tcG9uZW50KSB7XG5cdFx0XHRcdChjb21wb25lbnRSZWYgPSB0KS5iYXNlID0gYmFzZTtcblx0XHRcdH1cblx0XHRcdGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0XHRcdGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHRcdH1cblx0fVxuXG5cdGlmICghaXNVcGRhdGUgfHwgbW91bnRBbGwpIHtcblx0XHRtb3VudHMudW5zaGlmdChjb21wb25lbnQpO1xuXHR9IGVsc2UgaWYgKCFza2lwKSB7XG5cdFx0Ly8gRW5zdXJlIHRoYXQgcGVuZGluZyBjb21wb25lbnREaWRNb3VudCgpIGhvb2tzIG9mIGNoaWxkIGNvbXBvbmVudHNcblx0XHQvLyBhcmUgY2FsbGVkIGJlZm9yZSB0aGUgY29tcG9uZW50RGlkVXBkYXRlKCkgaG9vayBpbiB0aGUgcGFyZW50LlxuXHRcdC8vIE5vdGU6IGRpc2FibGVkIGFzIGl0IGNhdXNlcyBkdXBsaWNhdGUgaG9va3MsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3ByZWFjdC9pc3N1ZXMvNzUwXG5cdFx0Ly8gZmx1c2hNb3VudHMoKTtcblxuXHRcdGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKHByZXZpb3VzUHJvcHMsIHByZXZpb3VzU3RhdGUsIHByZXZpb3VzQ29udGV4dCk7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zLmFmdGVyVXBkYXRlKSBvcHRpb25zLmFmdGVyVXBkYXRlKGNvbXBvbmVudCk7XG5cdH1cblxuXHRpZiAoY29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MgIT0gbnVsbCkge1xuXHRcdHdoaWxlIChjb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLnBvcCgpLmNhbGwoY29tcG9uZW50KTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIWRpZmZMZXZlbCAmJiAhaXNDaGlsZCkgZmx1c2hNb3VudHMoKTtcbn1cblxuLyoqIEFwcGx5IHRoZSBDb21wb25lbnQgcmVmZXJlbmNlZCBieSBhIFZOb2RlIHRvIHRoZSBET00uXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFRoZSBET00gbm9kZSB0byBtdXRhdGVcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0QSBDb21wb25lbnQtcmVmZXJlbmNpbmcgVk5vZGVcbiAqXHRAcmV0dXJucyB7RWxlbWVudH0gZG9tXHRUaGUgY3JlYXRlZC9tdXRhdGVkIGVsZW1lbnRcbiAqXHRAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHR2YXIgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCxcblx0ICAgIG9yaWdpbmFsQ29tcG9uZW50ID0gYyxcblx0ICAgIG9sZERvbSA9IGRvbSxcblx0ICAgIGlzRGlyZWN0T3duZXIgPSBjICYmIGRvbS5fY29tcG9uZW50Q29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lLFxuXHQgICAgaXNPd25lciA9IGlzRGlyZWN0T3duZXIsXG5cdCAgICBwcm9wcyA9IGdldE5vZGVQcm9wcyh2bm9kZSk7XG5cdHdoaWxlIChjICYmICFpc093bmVyICYmIChjID0gYy5fcGFyZW50Q29tcG9uZW50KSkge1xuXHRcdGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZTtcblx0fVxuXG5cdGlmIChjICYmIGlzT3duZXIgJiYgKCFtb3VudEFsbCB8fCBjLl9jb21wb25lbnQpKSB7XG5cdFx0c2V0Q29tcG9uZW50UHJvcHMoYywgcHJvcHMsIDMsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKG9yaWdpbmFsQ29tcG9uZW50ICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdFx0XHR1bm1vdW50Q29tcG9uZW50KG9yaWdpbmFsQ29tcG9uZW50KTtcblx0XHRcdGRvbSA9IG9sZERvbSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0YyA9IGNyZWF0ZUNvbXBvbmVudCh2bm9kZS5ub2RlTmFtZSwgcHJvcHMsIGNvbnRleHQpO1xuXHRcdGlmIChkb20gJiYgIWMubmV4dEJhc2UpIHtcblx0XHRcdGMubmV4dEJhc2UgPSBkb207XG5cdFx0XHQvLyBwYXNzaW5nIGRvbS9vbGREb20gYXMgbmV4dEJhc2Ugd2lsbCByZWN5Y2xlIGl0IGlmIHVudXNlZCwgc28gYnlwYXNzIHJlY3ljbGluZyBvbiBMMjI5OlxuXHRcdFx0b2xkRG9tID0gbnVsbDtcblx0XHR9XG5cdFx0c2V0Q29tcG9uZW50UHJvcHMoYywgcHJvcHMsIDEsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cblx0XHRpZiAob2xkRG9tICYmIGRvbSAhPT0gb2xkRG9tKSB7XG5cdFx0XHRvbGREb20uX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShvbGREb20sIGZhbHNlKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG4vKiogUmVtb3ZlIGEgY29tcG9uZW50IGZyb20gdGhlIERPTSBhbmQgcmVjeWNsZSBpdC5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XHRUaGUgQ29tcG9uZW50IGluc3RhbmNlIHRvIHVubW91bnRcbiAqXHRAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRpZiAob3B0aW9ucy5iZWZvcmVVbm1vdW50KSBvcHRpb25zLmJlZm9yZVVubW91bnQoY29tcG9uZW50KTtcblxuXHR2YXIgYmFzZSA9IGNvbXBvbmVudC5iYXNlO1xuXG5cdGNvbXBvbmVudC5fZGlzYWJsZSA9IHRydWU7XG5cblx0aWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cblx0Y29tcG9uZW50LmJhc2UgPSBudWxsO1xuXG5cdC8vIHJlY3Vyc2l2ZWx5IHRlYXIgZG93biAmIHJlY29sbGVjdCBoaWdoLW9yZGVyIGNvbXBvbmVudCBjaGlsZHJlbjpcblx0dmFyIGlubmVyID0gY29tcG9uZW50Ll9jb21wb25lbnQ7XG5cdGlmIChpbm5lcikge1xuXHRcdHVubW91bnRDb21wb25lbnQoaW5uZXIpO1xuXHR9IGVsc2UgaWYgKGJhc2UpIHtcblx0XHRpZiAoYmFzZVsnX19wcmVhY3RhdHRyXyddICYmIGJhc2VbJ19fcHJlYWN0YXR0cl8nXS5yZWYpIGJhc2VbJ19fcHJlYWN0YXR0cl8nXS5yZWYobnVsbCk7XG5cblx0XHRjb21wb25lbnQubmV4dEJhc2UgPSBiYXNlO1xuXG5cdFx0cmVtb3ZlTm9kZShiYXNlKTtcblx0XHRjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cblx0XHRyZW1vdmVDaGlsZHJlbihiYXNlKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcbn1cblxuLyoqIEJhc2UgQ29tcG9uZW50IGNsYXNzLlxuICpcdFByb3ZpZGVzIGBzZXRTdGF0ZSgpYCBhbmQgYGZvcmNlVXBkYXRlKClgLCB3aGljaCB0cmlnZ2VyIHJlbmRlcmluZy5cbiAqXHRAcHVibGljXG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Y2xhc3MgTXlGb28gZXh0ZW5kcyBDb21wb25lbnQge1xuICpcdFx0cmVuZGVyKHByb3BzLCBzdGF0ZSkge1xuICpcdFx0XHRyZXR1cm4gPGRpdiAvPjtcbiAqXHRcdH1cbiAqXHR9XG4gKi9cbmZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHR0aGlzLl9kaXJ0eSA9IHRydWU7XG5cblx0LyoqIEBwdWJsaWNcbiAgKlx0QHR5cGUge29iamVjdH1cbiAgKi9cblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuXHQvKiogQHB1YmxpY1xuICAqXHRAdHlwZSB7b2JqZWN0fVxuICAqL1xuXHR0aGlzLnByb3BzID0gcHJvcHM7XG5cblx0LyoqIEBwdWJsaWNcbiAgKlx0QHR5cGUge29iamVjdH1cbiAgKi9cblx0dGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGUgfHwge307XG59XG5cbmV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cblx0LyoqIFJldHVybnMgYSBgYm9vbGVhbmAgaW5kaWNhdGluZyBpZiB0aGUgY29tcG9uZW50IHNob3VsZCByZS1yZW5kZXIgd2hlbiByZWNlaXZpbmcgdGhlIGdpdmVuIGBwcm9wc2AgYW5kIGBzdGF0ZWAuXG4gICpcdEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcbiAgKlx0QHBhcmFtIHtvYmplY3R9IG5leHRTdGF0ZVxuICAqXHRAcGFyYW0ge29iamVjdH0gbmV4dENvbnRleHRcbiAgKlx0QHJldHVybnMge0Jvb2xlYW59IHNob3VsZCB0aGUgY29tcG9uZW50IHJlLXJlbmRlclxuICAqXHRAbmFtZSBzaG91bGRDb21wb25lbnRVcGRhdGVcbiAgKlx0QGZ1bmN0aW9uXG4gICovXG5cblx0LyoqIFVwZGF0ZSBjb21wb25lbnQgc3RhdGUgYnkgY29weWluZyBwcm9wZXJ0aWVzIGZyb20gYHN0YXRlYCB0byBgdGhpcy5zdGF0ZWAuXG4gICpcdEBwYXJhbSB7b2JqZWN0fSBzdGF0ZVx0XHRBIGhhc2ggb2Ygc3RhdGUgcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzXG4gICpcdEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXHRBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbmNlIGNvbXBvbmVudCBzdGF0ZSBpcyB1cGRhdGVkXG4gICovXG5cdHNldFN0YXRlOiBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcblx0XHR2YXIgcyA9IHRoaXMuc3RhdGU7XG5cdFx0aWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBleHRlbmQoe30sIHMpO1xuXHRcdGV4dGVuZChzLCB0eXBlb2Ygc3RhdGUgPT09ICdmdW5jdGlvbicgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0XHRpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSB0aGlzLl9yZW5kZXJDYWxsYmFja3MgfHwgW10pLnB1c2goY2FsbGJhY2spO1xuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH0sXG5cblxuXHQvKiogSW1tZWRpYXRlbHkgcGVyZm9ybSBhIHN5bmNocm9ub3VzIHJlLXJlbmRlciBvZiB0aGUgY29tcG9uZW50LlxuICAqXHRAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1x0XHRBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciBjb21wb25lbnQgaXMgcmUtcmVuZGVyZWQuXG4gICpcdEBwcml2YXRlXG4gICovXG5cdGZvcmNlVXBkYXRlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZShjYWxsYmFjaykge1xuXHRcdGlmIChjYWxsYmFjaykgKHRoaXMuX3JlbmRlckNhbGxiYWNrcyA9IHRoaXMuX3JlbmRlckNhbGxiYWNrcyB8fCBbXSkucHVzaChjYWxsYmFjayk7XG5cdFx0cmVuZGVyQ29tcG9uZW50KHRoaXMsIDIpO1xuXHR9LFxuXG5cblx0LyoqIEFjY2VwdHMgYHByb3BzYCBhbmQgYHN0YXRlYCwgYW5kIHJldHVybnMgYSBuZXcgVmlydHVhbCBET00gdHJlZSB0byBidWlsZC5cbiAgKlx0VmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuICAqXHRAcGFyYW0ge29iamVjdH0gcHJvcHNcdFx0UHJvcHMgKGVnOiBKU1ggYXR0cmlidXRlcykgcmVjZWl2ZWQgZnJvbSBwYXJlbnQgZWxlbWVudC9jb21wb25lbnRcbiAgKlx0QHBhcmFtIHtvYmplY3R9IHN0YXRlXHRcdFRoZSBjb21wb25lbnQncyBjdXJyZW50IHN0YXRlXG4gICpcdEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XHRcdENvbnRleHQgb2JqZWN0IChpZiBhIHBhcmVudCBjb21wb25lbnQgaGFzIHByb3ZpZGVkIGNvbnRleHQpXG4gICpcdEByZXR1cm5zIFZOb2RlXG4gICovXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge31cbn0pO1xuXG4vKiogUmVuZGVyIEpTWCBpbnRvIGEgYHBhcmVudGAgRWxlbWVudC5cbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRBIChKU1gpIFZOb2RlIHRvIHJlbmRlclxuICpcdEBwYXJhbSB7RWxlbWVudH0gcGFyZW50XHRcdERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBbbWVyZ2VdXHRBdHRlbXB0IHRvIHJlLXVzZSBhbiBleGlzdGluZyBET00gdHJlZSByb290ZWQgYXQgYG1lcmdlYFxuICpcdEBwdWJsaWNcbiAqXG4gKlx0QGV4YW1wbGVcbiAqXHQvLyByZW5kZXIgYSBkaXYgaW50byA8Ym9keT46XG4gKlx0cmVuZGVyKDxkaXYgaWQ9XCJoZWxsb1wiPmhlbGxvITwvZGl2PiwgZG9jdW1lbnQuYm9keSk7XG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Ly8gcmVuZGVyIGEgXCJUaGluZ1wiIGNvbXBvbmVudCBpbnRvICNmb286XG4gKlx0Y29uc3QgVGhpbmcgPSAoeyBuYW1lIH0pID0+IDxzcGFuPnsgbmFtZSB9PC9zcGFuPjtcbiAqXHRyZW5kZXIoPFRoaW5nIG5hbWU9XCJvbmVcIiAvPiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZvbycpKTtcbiAqL1xuZnVuY3Rpb24gcmVuZGVyKHZub2RlLCBwYXJlbnQsIG1lcmdlKSB7XG4gIHJldHVybiBkaWZmKG1lcmdlLCB2bm9kZSwge30sIGZhbHNlLCBwYXJlbnQsIGZhbHNlKTtcbn1cblxudmFyIHByZWFjdCA9IHtcblx0aDogaCxcblx0Y3JlYXRlRWxlbWVudDogaCxcblx0Y2xvbmVFbGVtZW50OiBjbG9uZUVsZW1lbnQsXG5cdENvbXBvbmVudDogQ29tcG9uZW50LFxuXHRyZW5kZXI6IHJlbmRlcixcblx0cmVyZW5kZXI6IHJlcmVuZGVyLFxuXHRvcHRpb25zOiBvcHRpb25zXG59O1xuXG5leHBvcnQgZGVmYXVsdCBwcmVhY3Q7XG5leHBvcnQgeyBoLCBoIGFzIGNyZWF0ZUVsZW1lbnQsIGNsb25lRWxlbWVudCwgQ29tcG9uZW50LCByZW5kZXIsIHJlcmVuZGVyLCBvcHRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVhY3QuZXNtLmpzLm1hcFxuIiwibW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuY29udGVudGZ1bEV4dGVuc2lvbjsiLCJpbXBvcnQgeyBJQ3VycmVudEZpZWxkIH0gZnJvbSAnY29udGVudGZ1bC11aS1leHRlbnNpb25zLXNkaydcbmltcG9ydCB7Q29tcG9uZW50LCBofSBmcm9tICdwcmVhY3QnXG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNsdWdGb3JtUHJvcHMge1xuICBzbHVnOiBzdHJpbmdcbiAgcGFyZW50U2x1Zzogc3RyaW5nXG5cbiAgb25DaGFuZ2UodGhpczogU2x1Z0Zvcm0sIGV2ZW50OiB7IG9sZFZhbHVlOiBzdHJpbmcsIG5ld1ZhbHVlOiBzdHJpbmcgfSk6IHZvaWRcbn1cblxuZXhwb3J0IGNsYXNzIFNsdWdGb3JtIGV4dGVuZHMgQ29tcG9uZW50PElTbHVnRm9ybVByb3BzLCB7dmFsdWU6IHN0cmluZ30+IHtcblxuICBwdWJsaWMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB2YWx1ZTogdGhpcy5wcm9wcy5zbHVnLFxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtzbHVnLCBwYXJlbnRTbHVnfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwic2x1Z0Zvcm1cIiBjbGFzcz1cImNmLWZvcm0taW5wdXRcIj5cbiAgICAgICAgeyBwYXJlbnRTbHVnICYmIDxzcGFuIGlkPVwicGFyZW50XCI+e3BhcmVudFNsdWd9Lzwvc3Bhbj59XG4gICAgICAgIDxzcGFuIGlkPVwic2x1Z1wiIGNvbnRlbnRFZGl0YWJsZSBvbkZvY3VzPXt0aGlzLm9uRm9jdXNHYWluZWQuYmluZCh0aGlzKX0gb25CbHVyPXt0aGlzLm9uRm9jdXNMb3N0LmJpbmQodGhpcyl9PlxuICAgICAgICAgIHtzbHVnfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBwcml2YXRlIG9uRm9jdXNMb3N0KGV2dDogYW55KSB7XG4gICAgY29uc3QgbmV3VGV4dCA9IGV2dC50YXJnZXQudGV4dENvbnRlbnRcbiAgICBpZiAobmV3VGV4dCAhPSB0aGlzLnN0YXRlLnZhbHVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IG5ld1RleHQgfSlcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UuY2FsbCh0aGlzLCB7XG4gICAgICAgIG9sZFZhbHVlOiB0aGlzLnN0YXRlLnZhbHVlLFxuICAgICAgICBuZXdWYWx1ZTogbmV3VGV4dCxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkZvY3VzR2FpbmVkKGV2dDogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ2ZvY3VzR2FpbmVkJywgZXZ0KVxuICB9XG59XG4iLCIvLyBwb2x5ZmlsbHNcbi8vIHRzbGludDpkaXNhYmxlOm5vLW5hbWVzcGFjZVxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3RhcnRzV2l0aFxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6aW50ZXJmYWNlLW5hbWVcbiAgaW50ZXJmYWNlIFN0cmluZyB7XG4gICAgc3RhcnRzV2l0aChzZWFyY2g6IHN0cmluZywgcG9zPzogbnVtYmVyKTogYm9vbGVhbjtcbiAgfVxufVxuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCkge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25seS1hcnJvdy1mdW5jdGlvbnNcbiAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24oc2VhcmNoOiBzdHJpbmcsIHBvczogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vic3RyKCFwb3MgfHwgcG9zIDwgMCA/IDAgOiArcG9zLCBzZWFyY2gubGVuZ3RoKSA9PT0gc2VhcmNoO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FpdChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgpLCBtcylcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aEpvaW4oLi4ucGF0aEFycjogc3RyaW5nW10pIHtcbiAgcmV0dXJuIHBhdGhBcnIuam9pbignLycpLnJlcGxhY2UoL1xcL3syLH0vLCBcIi9cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlbmFtZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXRoUGFydHMgPSBwYXRoLnNwbGl0KCcvJylcbiAgcmV0dXJuIHBhdGhQYXJ0c1twYXRoUGFydHMubGVuZ3RoIC0gMV1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyaW1TdGFydCh0b1RyaW06IHN0cmluZywgdmFsdWVUb1JlbW92ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgd2hpbGUgKHRvVHJpbS5zdGFydHNXaXRoKHZhbHVlVG9SZW1vdmUpKSB7XG4gICAgdG9UcmltID0gdG9UcmltLnN1YnN0cmluZyh2YWx1ZVRvUmVtb3ZlLmxlbmd0aClcbiAgfVxuICByZXR1cm4gdG9UcmltXG59XG4iLCJpbXBvcnQgKiBhcyBjb250ZW50ZnVsRXh0ZW5zaW9uIGZyb20gJ2NvbnRlbnRmdWwtdWktZXh0ZW5zaW9ucy1zZGsnXG5pbXBvcnQge0lDb250ZW50ZnVsRXh0ZW5zaW9uU2RrfSBmcm9tICdjb250ZW50ZnVsLXVpLWV4dGVuc2lvbnMtc2RrJ1xuaW1wb3J0IHtDb21wb25lbnQsIGgsIHJlbmRlcn0gZnJvbSAncHJlYWN0J1xuXG5pbXBvcnQgeyBwYXRoSm9pbiwgdHJpbVN0YXJ0IH0gZnJvbSAnLi4vbGliL3V0aWxzJ1xuaW1wb3J0IHtTbHVnRm9ybX0gZnJvbSAnLi9zbHVnLWZvcm0nXG5cbmRlY2xhcmUgZnVuY3Rpb24gcmVxdWlyZShtb2R1bGU6IHN0cmluZyk6IGFueVxuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9zdHlsZXMuc2NzcycpXG5cbmNvbnRlbnRmdWxFeHRlbnNpb24uaW5pdCgoZXh0ZW5zaW9uKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdJbml0IScpXG4gIHJlbmRlcig8QXBwIHsuLi5leHRlbnNpb259IC8+LFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWFjdC1yb290JykpXG59KVxuXG5pbnRlcmZhY2UgSUFwcFN0YXRlIHtcbiAgZmllbGRWYWx1ZTogc3RyaW5nXG4gIHBhcmVudFNsdWc6IHN0cmluZ1xufVxuXG5jbGFzcyBBcHAgZXh0ZW5kcyBDb21wb25lbnQ8SUNvbnRlbnRmdWxFeHRlbnNpb25TZGssIElBcHBTdGF0ZT4ge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLm9uU2x1Z0NoYW5nZSA9IHRoaXMub25TbHVnQ2hhbmdlLmJpbmQodGhpcylcbiAgfVxuXG4gIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGZpZWxkVmFsdWU6IHRoaXMucHJvcHMuZmllbGQuZ2V0VmFsdWUoKSxcbiAgICB9KVxuXG4gICAgLy8gZmluZCB0aGUgcGFnZSBwb2ludGluZyB0byB0aGlzIHBhZ2VcbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9wcy5zcGFjZS5nZXRFbnRyaWVzKHtcbiAgICAgICdjb250ZW50X3R5cGUnOiAncGFnZScsXG4gICAgICAnZmllbGRzLnN1YnBhZ2VzLnN5cy5pZCc6IHRoaXMucHJvcHMuZW50cnkuZ2V0U3lzKCkuaWQsXG4gICAgfSkudGhlbigoZW50cmllcykgPT4ge1xuICAgICAgaWYgKGVudHJpZXMuaXRlbXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBhcmVudFNsdWcgPSBlbnRyaWVzLml0ZW1zWzBdLmZpZWxkcy5zbHVnWydlbi1VUyddXG4gICAgICBsZXQgZmllbGRWYWx1ZSA9IHRoaXMuc3RhdGUuZmllbGRWYWx1ZVxuICAgICAgZmllbGRWYWx1ZSA9IHRyaW1TdGFydChmaWVsZFZhbHVlLCBwYXJlbnRTbHVnKVxuICAgICAgZmllbGRWYWx1ZSA9IHRyaW1TdGFydChmaWVsZFZhbHVlLCAnLycpXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwYXJlbnRTbHVnLFxuICAgICAgICBmaWVsZFZhbHVlLFxuICAgICAgfSlcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBxdWVyeWluZyEnLCBlcnIpXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBmaWVsZFZhbHVlLCBwYXJlbnRTbHVnIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBjb25zb2xlLmxvZygncmVuZGVyJywgcGFyZW50U2x1ZylcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNsdWdGb3JtIHNsdWc9e2ZpZWxkVmFsdWV9XG4gICAgICAgIHBhcmVudFNsdWc9e3BhcmVudFNsdWd9XG4gICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uU2x1Z0NoYW5nZX0gLz5cbiAgICA8L2Rpdj5cbiAgfVxuXG4gIHByaXZhdGUgb25TbHVnQ2hhbmdlKGV2ZW50OiB7IG9sZFZhbHVlOiBzdHJpbmcsIG5ld1ZhbHVlOiBzdHJpbmcgfSkge1xuICAgIHRoaXMucHJvcHMuZmllbGQuc2V0VmFsdWUocGF0aEpvaW4odGhpcy5zdGF0ZS5wYXJlbnRTbHVnLCBldmVudC5uZXdWYWx1ZSkpXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=</script></body>
</html>